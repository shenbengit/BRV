{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Usage","text":"<p>\u672c\u6846\u67b6\u5728\u4e0d\u5f71\u54cdRecyclerView\u7684\u4efb\u4f55\u51fd\u6570\u7ec4\u4ef6\u4f7f\u7528\u57fa\u7840\u4e0a\u5f00\u53d1. \u672c\u6846\u67b6\u4e5f\u5c06\u4e00\u76f4\u4fdd\u6301\u7ef4\u62a4\u72b6\u6001</p> <p></p> <p>STAR/\u5206\u4eab\u53ef\u4ee5\u8ba9\u66f4\u591a\u4eba\u53c2\u4e0e\u5230\u672c\u5f00\u6e90\u9879\u76ee, \u70b9\u51fb\u6587\u6863\u53f3\u4e0a\u89d2\u5c0f\u94c5\u7b14\u53ef\u76f4\u63a5\u4fee\u8ba2\u6587\u6863 \u2197</p> <p></p>"},{"location":"#_1","title":"\u521b\u5efa\u4e00\u4e2a\u7b80\u5355\u7684\u5217\u8868","text":"<pre><code>rv.linear().setup {\naddType&lt;SimpleModel&gt;(R.layout.item_simple)\n}.models = getData()\n</code></pre> <p>\u8fd9\u91cc\u51fa\u73b0\u7684<code>BRV</code>\u5173\u952e\u8bcd\u5373\u672c\u6846\u67b6, <code>RV</code>\u5373RecyclerView\u7b80\u79f0. <code>setup</code>\u51fd\u6570\u4e5f\u53ea\u662f\u7b80\u5316\u521b\u5efaBindingAdapter\u5bf9\u8c61</p>"},{"location":"#4","title":"\u5217\u8868\u586b\u5145\u6570\u636e\u76844\u79cd\u65b9\u5f0f","text":"<p>BRV\u652f\u63014\u79cd\u65b9\u5f0f, \u7075\u6d3b\u4f7f\u7528, \u8fd9\u91cc\u63d0\u53ca\u7684Model\u5c31\u7b49\u540c\u4e8e\u6570\u636e\u7c7b/JavaBean/POJO</p>"},{"location":"#1","title":"1. \u51fd\u6570\u56de\u8c03","text":"<p>\u5728<code>onBind</code>\u51fd\u6570\u4e2d\u586b\u5145\u6570\u636e</p> <pre><code>rv.linear().setup {\naddType&lt;SimpleModel&gt;(R.layout.item_simple)\nonBind {\nfindView&lt;TextView&gt;(R.id.tv_simple).text = getModel&lt;SimpleModel&gt;().name\n}\n}.models = getData()\n</code></pre>"},{"location":"#2","title":"2. \u5b9e\u73b0\u63a5\u53e3","text":"<p>\u901a\u8fc7\u4e3aModel\u5b9e\u73b0\u63a5\u53e3<code>ItemBind</code>, \u5b9e\u73b0\u51fd\u6570<code>onBind</code>, \u5728\u8be5\u51fd\u6570\u4e2d\u586b\u5145\u6570\u636e; \u8fd9\u79cd\u65b9\u5f0f\u5728\u5f88\u591a\u6846\u67b6\u4e2d\u88ab\u5e94\u7528, \u4f8b\u5982BRVAH, \u4f46\u662f\u6211\u4e0d\u63a8\u8350\u8fd9\u79cd\u89c6\u56fe\u5728Model\u4e2d\u7ed1\u5b9a\u7684\u65b9\u5f0f, \u56e0\u4e3aModel\u5e94\u5f53\u53ea\u5b58\u50a8\u6570\u636e\u548c\u8ba1\u7b97\u903b\u8f91, \u4e0d\u5e94\u5305\u542b\u4efb\u4f55UI</p> <pre><code>class SimpleModel(var name: String = \"BRV\") : ItemBind {\n\noverride fun onBind(holder: BindingAdapter.BindingViewHolder) {\nval appName = holder.context.getString(R.string.app_name)\nholder.findView&lt;TextView&gt;(R.id.tv_simple).text = appName + itemPosition\n}\n}\n</code></pre>"},{"location":"#3-viewbinding","title":"3. ViewBinding","text":"<pre><code>rv.linear().setup {\naddType&lt;SimpleModel&gt;(R.layout.item_simple)\n\nonCreate {\ngetBinding&lt;ItemSimpleBinding&gt;().tvName.text = \"\u6587\u672c\u5185\u5bb9\"\n}\n\nonBind {\nval binding = getBinding&lt;ItemSimpleBinding&gt;() // \u4f7f\u7528ViewBinding/DataBinding\u90fd\u53ef\u4ee5\u4f7f\u7528\u672c\u65b9\u6cd5\n}\n}.models = getData()\n</code></pre>"},{"location":"#4-databinding","title":"4. DataBinding","text":"<p>\u901a\u8fc7DataBinding\u6570\u636e\u7ed1\u5b9a\u5f62\u5f0f\u81ea\u52a8\u586b\u5145\u6570\u636e, \u63a8\u8350, \u8fd9\u662f\u4ee3\u7801\u91cf\u6700\u5c11\u6700\u7075\u6d3b\u7684\u4e00\u79cd\u65b9\u5f0f.</p>"},{"location":"#a-databinding","title":"a. \u542f\u7528DataBinding","text":"<p>\u7b2c\u4e00\u6b65\u5728module\u4e2d\u7684<code>build.gradle</code>\u6587\u4ef6\u4e2d\u5f00\u542fDataBinding\u6846\u67b6</p> <pre><code>apply plugin: \"kotlin-kapt\" // kapt\u63d2\u4ef6\u7528\u4e8e\u751f\u6210dataBinding\n\nandroid {\n/.../\nbuildFeatures.dataBinding = true\n}\n</code></pre>"},{"location":"#b","title":"b. \u5e03\u5c40\u58f0\u660e\u53d8\u91cf","text":"<p>\u7b2c\u4e8c\u6b65, \u5728Item\u7684\u5e03\u5c40\u6587\u4ef6\u4e2d\u58f0\u660e\u53d8\u91cf, \u7136\u540e\u7ed1\u5b9a\u53d8\u91cf\u5230\u89c6\u56fe\u63a7\u4ef6\u4e0a</p> <p><pre><code>&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n&lt;data&gt;\n\n&lt;variable\nname=\"m\"\ntype=\"com.drake.brv.sample.model.SimpleModel\" /&gt;\n&lt;/data&gt;\n\n&lt;LinearLayout\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"&gt;\n\n&lt;FrameLayout\nandroid:id=\"@+id/item\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"100dp\"\nandroid:layout_margin=\"16dp\"\nandroid:background=\"@drawable/bg_card\"\nandroid:foreground=\"?selectableItemBackgroundBorderless\"&gt;\n\n&lt;TextView\nandroid:id=\"@+id/tv_simple\"\nandroid:text=\"@{String.valueOf(m.name)}\"\nandroid:gravity=\"center\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\" /&gt;\n\n&lt;/FrameLayout&gt;\n\n&lt;/LinearLayout&gt;\n&lt;/layout&gt;\n</code></pre> \u9009\u4e2d\u884c\u662fDataBinding\u4f7f\u7528\u65b9\u6cd5</p>"},{"location":"#c-id","title":"c. \u521d\u59cb\u5316\u5168\u5c40ID","text":"<pre><code>class App : Application() {\n\noverride fun onCreate() {\nsuper.onCreate()\n\n// \u521d\u59cb\u5316BindingAdapter\u7684\u9ed8\u8ba4\u7ed1\u5b9aID, \u5982\u679c\u4e0d\u4f7f\u7528DataBinding\u5e76\u4e0d\u9700\u8981\u521d\u59cb\u5316\nBRV.modelId = BR.m\n}\n}\n</code></pre> <p>rv\u662f\u4e00\u4e2a\u5217\u8868. \u91cc\u9762\u7684models\u662f\u4e00\u4e2alist\u96c6\u5408, \u6bcf\u4e2a\u5143\u7d20\u5bf9\u5e94\u4e00\u4e2aitem. dataBinding\u4f1a\u6839\u636e\u4f60<code>\u8d4b\u503c\u7684Id</code>\u81ea\u52a8\u7ed1\u5b9amodels\u4e2d\u5143\u7d20\u5230xml\u4e2d\u8d4b\u503c </p> <ol> <li>\u6ce8\u610f\u8981\u5148\u5728\u67d0\u4e2a\u5e03\u5c40\u6216Item\u5e03\u5c40\u58f0\u660e<code>&lt;layout&gt;</code>\u5e03\u5c40\u4e2d\u7684\u53d8\u91cf<code>name=\"m\"</code>, <code>BR.m</code>\u624d\u80fd\u88ab\u751f\u6210, \u4e00\u65e6\u58f0\u660e<code>BRV.model = BR.m</code>\u4f60\u7684\u6240\u6709BRV\u4f7f\u7528\u7684item\u5e03\u5c40\u90fd\u5f97\u4f7f\u7528<code>name=\"m\"</code>\u6765\u58f0\u660e\u6570\u636e\u6a21\u578b, \u5426\u5219\u4f1a\u65e0\u6cd5\u81ea\u52a8\u7ed1\u5b9a  </li> <li>\u5bfc\u5305\u6ce8\u610f\u5bfc\u5165\u4f60\u6240\u5728module\u7684BR, \u8fd9\u6837\u6240\u6709\u4f7f\u7528\u8be5Id\u6765\u58f0\u660e\u6570\u636e\u6a21\u578b\u7684\u5e03\u5c40\u90fd\u4f1a\u88abBRV\u81ea\u52a8\u7ed1\u5b9a\u6570\u636e  </li> <li> <p>\u5982\u679c\u4f9d\u7136\u6ca1\u6709\u751f\u6210\u8bf7<code>make project</code>(\u5373\u56fe\u4e2d\u7eff\u8272\u5c0f\u9524\u5b50\u56fe\u6807)  </p> </li> <li> <p>m(m\u662fmodel\u7684\u7b80\u79f0)\u53ef\u4ee5\u662f\u4efb\u4f55\u5176\u4ed6\u7684\u540d\u79f0, model\u6216\u8005sb\u90fd\u53ef\u4ee5, \u6bd4\u5982\u4f60<code>name=\"data\"</code>, \u90a3\u4e48\u4f60\u5c31\u5e94\u8be5\u4f7f\u7528BR.data  BR.data\u548cAndroid\u4e2d\u5e38\u89c1\u7684<code>R.id.data</code>\u90fd\u5c5e\u4e8eId\u5e38\u91cf, \u672c\u8d28\u4e0a\u90fd\u662fInt\u503c. \u4f60\u53ef\u4ee5\u70b9\u51fb\u67e5\u770bBR.m\u6e90\u7801</p> </li> </ol>"},{"location":"#d","title":"d. \u6784\u5efa\u5217\u8868","text":"<p>\u8fd9\u79cd\u65b9\u5f0f\u521b\u5efa\u5217\u8868\u65e0\u9700\u5904\u7406\u6570\u636e</p> <pre><code>rv.linear().setup {\naddType&lt;SimpleModel&gt;(R.layout.item_simple)\n}.models = getData()\n</code></pre> <p>\u522b\u770b\u6587\u6863\u4e2dDataBinding\u65b9\u5f0f\u590d\u6742, \u5b9e\u9645\u4ee3\u7801\u91cf\u6700\u5c11, \u540c\u65f6\u6700\u89e3\u8026</p> <p>\u4f7f\u7528DataBinding\u53ef\u4ee5\u590d\u5236\u6216\u8005\u5f15\u7528\u6211\u7684\u5e38\u7528\u81ea\u5b9a\u4e49\u5c5e\u6027:  DataBindingComponent.kt \u5982\u679c\u4f60\u60f3\u66f4\u52a0\u4e86\u89e3DataBinding\u8bf7\u9605\u8bfbDataBinding\u6700\u5168\u4f7f\u7528\u8bf4\u660e</p>"},{"location":"animation/","title":"List Animation","text":"<p>\u5217\u8868\u52a8\u753b\u53ea\u662f\u5b9e\u73b0\u5217\u8868Item\u51fa\u73b0\u7684\u52a8\u753b</p>"},{"location":"animation/#_1","title":"\u52a8\u753b\u7c7b\u578b","text":"<p>\u901a\u8fc7\u51fd\u6570\u5feb\u901f\u8bbe\u7f6eBRV\u81ea\u5e26\u7684\u51e0\u79cd\u52a8\u753b\u7c7b\u578b</p> <pre><code>fun setAnimation(animationType: AnimationType)\n</code></pre> <p>\u4f7f\u7528<code>AnimationType</code>\u679a\u4e3e</p> \u679a\u4e3e \u52a8\u753b\u63cf\u8ff0 ALPHA \u6e10\u53d8 SCALE \u7f29\u653e\u52a8 SLIDE_BOTTOM \u5e95\u90e8\u6ed1\u5165 SLIDE_LEFT \u5de6\u4fa7\u6ed1\u5165 SLIDE_RIGHT \u53f3\u4fa7\u6ed1\u5165"},{"location":"animation/#_2","title":"\u81ea\u5b9a\u4e49\u5217\u8868\u52a8\u753b","text":"<p>\u5982\u679c\u9ed8\u8ba4\u7684\u52a8\u753b\u65e0\u6cd5\u6ee1\u8db3\u4f60, \u4f60\u53ef\u4ee5\u53c2\u8003\u81ea\u5e26\u7684<code>ItemAnimation</code>\u5b50\u7c7b\u52a8\u753b\u6765\u81ea\u5b9a\u4e49\u4f60\u8981\u7684\u52a8\u753b\u6548\u679c</p> <pre><code>fun setAnimation(itemAnimation: ItemAnimation)\n</code></pre> <p>\u8fd9\u91cc\u4ee5<code>AlphaItemAnimation</code>\u6e90\u7801\u793a\u4f8b</p> <pre><code>class AlphaItemAnimation @JvmOverloads constructor(private val mFrom: Float = DEFAULT_ALPHA_FROM) : ItemAnimation {\n\noverride fun onItemEnterAnimation(view: View) {\nObjectAnimator.ofFloat(view, \"alpha\", mFrom, 1f).setDuration(300).start() // \u6e10\u53d8\u52a8\u753b\n}\n\ncompanion object {\n\nprivate val DEFAULT_ALPHA_FROM = 0f // \u521d\u59cb\u900f\u660e\u5ea6\n}\n}\n</code></pre>"},{"location":"checked/","title":"Selection Mode","text":"<p>\u53ef\u7f16\u8f91/\u591a\u9009\u5217\u8868\u5728\u5f00\u53d1\u4e2d\u5f88\u5e38\u89c1, BRV\u53ef\u4ee5\u77ed\u77ed\u51e0\u884c\u4ee3\u7801\u5c31\u53ef\u4ee5\u5b9e\u73b0\u4e00\u4e2a\u9009\u62e9\u6a21\u5f0f: Demo</p>"},{"location":"checked/#_1","title":"\u591a\u9009\u5217\u8868","text":"<ol> <li> <p>\u521b\u5efa\u5217\u8868     <pre><code>rv.linear().setup {\naddType&lt;CheckModel&gt;(R.layout.item_check_mode)\n}.models = getData\n</code></pre></p> </li> <li> <p>\u4e3aModel\u521b\u5efa\u4e00\u4e2a\u5b57\u6bb5\u7528\u4e8e\u4fdd\u5b58\u9009\u62e9\u7684\u72b6\u6001     <pre><code>data class CheckModel(\nvar checked: Boolean = false,\nvar visibility: Boolean = false\n) : BaseObservable() // BaseObservable \u8fd9\u662fDataBinding\u7684\u6570\u636e\u7ed1\u5b9a\u5199\u6cd5\n</code></pre></p> </li> <li> <p>\u76d1\u542c\u9009\u62e9\u4e8b\u4ef6     <pre><code>rv.linear().setup {\naddType&lt;CheckModel&gt;(R.layout.item_check_mode)\nonChecked { position, isChecked, isAllChecked -&gt;\nval model = getModel&lt;CheckModel&gt;(position)\nmodel.checked = isChecked\nmodel.notifyChange() // \u901a\u77e5UI\u8ddf\u968f\u6570\u636e\u53d8\u5316\n}\n}.models = getData\n</code></pre></p> </li> <li> <p>\u89e6\u53d1\u9009\u62e9\u4e8b\u4ef6     <pre><code>rv.linear().setup {\naddType&lt;CheckModel&gt;(R.layout.item_check_mode)\nonChecked { position, isChecked, isAllChecked -&gt;\nval model = getModel&lt;CheckModel&gt;(position)\nmodel.checked = isChecked\nmodel.notifyChange() // \u901a\u77e5UI\u8ddf\u968f\u6570\u636e\u53d8\u5316\n}\n\nonClick(R.id.cb, R.id.item) {\nvar checked = getModel&lt;CheckModel&gt;().checked\nsetChecked(adapterPosition, !checked) // \u5728\u70b9\u51fb\u4e8b\u4ef6\u4e2d\u89e6\u53d1\u9009\u62e9\u4e8b\u4ef6, \u5373\u70b9\u51fb\u5217\u8868\u6761\u76ee\u5c31\u9009\u4e2d\n}\n}.models = getData\n</code></pre></p> </li> </ol> <p></p>"},{"location":"checked/#_2","title":"\u9ed8\u8ba4\u9009\u62e9","text":"<p>\u5982\u679c\u4f60\u60f3\u9ed8\u8ba4\u9009\u4e2d\u67d0\u4e9bItem, \u5e94\u5f53\u4f7f\u7528<code>setChecked</code>\u51fd\u6570\u53bb\u8bbe\u7f6e, \u800c\u4e0d\u662f\u76f4\u63a5\u5728Model\u4e2d\u8bbe\u7f6e<code>isChecked</code>\u5c5e\u6027\u4e3atrue(\u8fd9\u662f\u4e0d\u4f1a\u89e6\u53d1\u9009\u4e2d\u56de\u8c03\u7684)</p> <p>\u4f8b\u5982\u5728Demo\u4e2d\u5c31\u6709\u8fd9\u4e48\u4e00\u884c\u4ee3\u7801\u9ed8\u8ba4\u9009\u4e2d\u7b2c\u4e00\u4e2aItem</p> <pre><code>// \u5207\u6362\u9009\u62e9\u6a21\u5f0f\ntv_manage.setOnClickListener {\nadapter.toggle()\nrv.bindingAdapter.setChecked(0, true) // \u4e00\u5f00\u59cb\u5c31\u9009\u4e2d\u7b2c\u4e00\u4e2a\n}\n</code></pre>"},{"location":"checked/#_3","title":"\u6570\u636e\u53d8\u5316","text":"<p>\u5982\u679c\u6570\u636e\u4f4d\u7f6e\u53d1\u751f\u53d8\u5316, \u4f8b\u5982\u589e\u5220, \u8bf7\u4f7f\u7528<code>BindingAdapter.checkedPosition.clear()</code>\u6e05\u9664\u9009\u4e2d\u4f4d\u7f6e\u96c6\u5408(\u4e5f\u4e0d\u4e00\u5b9a\u5c31\u662f\u6e05\u9664), \u5426\u5219\u53ef\u80fd\u53d1\u751f\u6570\u636e\u9519\u8bef\u5bfc\u81f4\u7684\u65e0\u6cd5\u5355\u9009</p>"},{"location":"checked/#_4","title":"\u51fd\u6570","text":"<p>\u652f\u6301\u9009\u62e9\u6a21\u5f0f\u7684\u5e38\u7528\u51fd\u6570</p> \u51fd\u6570 \u63cf\u8ff0 allChecked \u5168\u9009\u6216\u8005\u5168\u90e8\u53d6\u6d88\u5168\u9009 singleMode \u662f\u5426\u4e3a\u5355\u9009\u6a21\u5f0f isCheckedAll \u662f\u5426\u88ab\u5168\u9009 checkedReverse \u53cd\u9009 setChecked \u6307\u5b9a\u4f4d\u7f6e\u7684\u6761\u76ee\u662f\u5426\u9009\u4e2d checkedSwitch \u5207\u6362\u9009\u4e2d\u72b6\u6001 setCheckableType \u6307\u5b9a\u7684type\u624d\u5141\u8bb8\u9009\u4e2d getCheckedModels \u5f97\u5230\u9009\u62e9\u7684\u6570\u636e\u6a21\u578b\u96c6\u5408 checkedPosition \u88ab\u9009\u62e9\u7684item\u7684position\u96c6\u5408 checkedCount \u5df2\u9009\u62e9\u6570\u91cf onChecked \u9009\u62e9\u56de\u8c03"},{"location":"click/","title":"Click Event","text":""},{"location":"click/#_1","title":"\u51fd\u6570","text":"\u51fd\u6570 \u63cf\u8ff0 onFastClick \u4e3a\u6307\u5b9a\u7684Id\u6dfb\u52a0\u4e8b\u4ef6\u76d1\u542c\u5668 onClick \u4e3a\u6307\u5b9a\u7684Id\u6dfb\u52a0\u70b9\u51fb\u4e8b\u4ef6\u76d1\u542c\u5668, \u4f46\u5305\u542b\u9632\u6296\u52a8(\u9ed8\u8ba4500\u6beb\u79d2\u5185\u4e0d\u5141\u8bb8\u91cd\u590d\u70b9\u51fb). \u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u95f4\u9694 onLongClick \u4e3a\u6307\u5b9a\u7684Id\u6dfb\u52a0\u957f\u6309\u4e8b\u4ef6\u76d1\u542c\u5668 <p>\u901a\u8fc7\u4f7f\u7528Item\u7684\u5e03\u5c40\u6587\u4ef6\u4e2d\u7684\u63a7\u4ef6id\u53ef\u4ee5\u4e3a\u4efb\u4f55\u89c6\u56fe\u8bbe\u7f6e\u70b9\u51fb\u4e8b\u4ef6\u6216\u8005\u957f\u6309\u4e8b\u4ef6, Item\u7684\u70b9\u51fb\u4e8b\u4ef6\u5c31\u662f\u7ed9Item\u7684\u6839\u5e03\u5c40\u6dfb\u52a0Id.</p>"},{"location":"click/#_2","title":"\u591a\u5bf9\u4e00\u70b9\u51fb\u4e8b\u4ef6","text":"<p>\u8fd9\u79cd\u4f7f\u7528\u9002\u7528\u4e8e\u591a\u4e2aid\u5904\u7406\u540c\u4e00\u4e2a\u70b9\u51fb\u4e1a\u52a1\u903b\u8f91</p> <pre><code>rv.linear().setup {\naddType&lt;SimpleModel&gt;(R.layout.item_simple)\n\nonClick(R.id.item) {\n// Item\u8bbe\u7f6e\u70b9\u51fb\u4e8b\u4ef6, \u5c31\u8981\u7ed9Item\u7684\u6839\u5e03\u5c40\u8bbe\u7f6e\u4e00\u4e2aid, \u8fd9\u91cc\u8bbe\u7f6e\u7684\u662fR.id.item\n}\n}.models = getData()\n</code></pre> <p>onClick\u53c2\u6570\u662f\u53ef\u53d8\u957f\u5ea6. \u53ef\u4ee5\u6307\u5b9a\u591a\u4e2aId, \u5e76\u4e14\u5b58\u5728\u8986\u76d6\u884c\u4e3a.  onFastClick / onLongClick\u540c\u7406</p> <pre><code>rv.linear().setup {\naddType&lt;SimpleModel&gt;(R.layout.item_simple)\n\nonLongClick(R.id.item) {\n\n}\nonClick(R.id.btn_submit) {\n// it\u5c31\u662f\u4f60\u8bbe\u7f6e\u7684id\n}\n\nonClick(R.id.btn_submit) {\n// \u8fd9\u4f1a\u8986\u76d6\u4e0a\u9762\u7684\u56de\u8c03\u903b\u8f91, \u56e0\u4e3a\u4e24\u8005\u8bbe\u7f6e\u7684Id\u76f8\u540c\n}\n}.models = getData()\n</code></pre>"},{"location":"click/#_3","title":"\u4e00\u5bf9\u4e00\u70b9\u51fb\u4e8b\u4ef6","text":"<p>\u65e2\u4e00\u4e2aId\u5bf9\u5e94\u4e00\u4e2a\u70b9\u51fb\u4e8b\u4ef6\u56de\u8c03. \u90a3\u4e48\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u66f4\u52a0\u7b80\u6d01\u7684\u7528\u6cd5</p> <pre><code>rv.linear().setup {\naddType&lt;SimpleModel&gt;(R.layout.item_simple)\n\nR.id.tv_simple.onClick {\ntoast(\"\u70b9\u51fbText\")\n}\nR.id.item.onLongClick {\ntoast(\"\u70b9\u51fbItem\")\n}\n}.models = getData()\n</code></pre>"},{"location":"click/#_4","title":"\u70b9\u51fb\u9632\u6296\u52a8","text":"<p>\u9632\u6296\u52a8: \u4e00\u5b9a\u95f4\u9694\u65f6\u95f4\u5185\u53ea\u4f1a\u54cd\u5e94\u7b2c\u4e00\u6b21\u7684\u70b9\u51fb. \u907f\u514d\u7528\u6237\u5feb\u901f\u70b9\u51fb\u5bfc\u81f4\u91cd\u590d\u54cd\u5e94\u70b9\u51fb\u4e8b\u4ef6</p> <p>BRV\u652f\u6301\u9632\u6296\u52a8\u5f88\u7b80\u5355, \u4f7f\u7528<code>onClick</code>\u51fd\u6570\u8bbe\u7f6e\u76d1\u542c\u4e8b\u4ef6\u5373\u53ef, <code>onFastClick</code>\u5373\u4e0d\u5305\u542b\u9632\u6296\u52a8\u7684\u70b9\u51fb\u4e8b\u4ef6.</p> <p>\u4ee5\u4e0b\u4ee3\u7801\u53ef\u4ee5\u4fee\u6539\u9632\u6296\u52a8\u95f4\u9694\u65f6\u95f4(\u9ed8\u8ba4\u4e3a500\u6beb\u79d2)</p> \u5168\u5c40 <pre><code>BRV.clickThrottle = 1000 // \u5355\u4f4d\u6beb\u79d2\n</code></pre> \u5355\u4f8b <pre><code>binding.rv.linear().setup {\nclickThrottle = 1000 // \u8986\u76d6\u5168\u5c40\u8bbe\u7f6e\naddType&lt;SimpleModel&gt;(R.layout.item_simple)\nR.id.item.onClick {\ntoast(\"\u70b9\u51fb\u6587\u672c\")\n}\n}.models = getData()\n</code></pre>"},{"location":"component/","title":"Third-Party Components","text":"<p>BRV\u6846\u67b6\u5e76\u4e0d\u5f71\u54cd\u539f\u6709rv\u529f\u80fd\u548c\u7ec4\u4ef6\u4f7f\u7528. \u8fd9\u91cc\u5217\u4e3e\u4e00\u4e9b\u5e38\u7528\u6216\u8005\u63a8\u8350\u7684\u7b2c\u4e09\u65b9\u6846\u67b6\u4f7f\u7528\u6848\u4f8b</p> <p></p> <p>\u975e\u5e38\u6b22\u8fce\u7f16\u8f91\u8d21\u732e\u66f4\u597d\u7684\u6269\u5c55\u6846\u67b6, \u70b9\u51fb\u6587\u6863\u53f3\u4e0a\u89d2\u5c0f\u94c5\u7b14\u53ef\u76f4\u63a5\u4fee\u8ba2\u672c\u9875\u9762 \u2197</p> <p></p> \u6846\u67b6 \u63cf\u8ff0 looping-layout \u5faa\u73af\u6eda\u52a8\u5217\u8868 PathLayoutManager \u81ea\u5b9a\u4e49\u5217\u8868\u6eda\u52a8\u8f68\u8ff9 ZLayoutManager \u4eff\u63a2\u63a2\u5361\u7247\u5806\u53e0\u5207\u6362 CarouselLayoutManager \u5361\u7247\u5782\u76f4/\u6c34\u5e73\u5806\u53e0\u5207\u6362 FanLayoutManager \u5c01\u9762\u5217\u8868 PagerGridLayoutManager \u7f51\u683c\u5206\u9875\u5217\u8868 ZoomRecylerLayout \u6ed1\u52a8\u65f6\u7f29\u653e\u6548\u679c\u5217\u8868 Linkage-RecyclerView \u4e8c\u7ea7\u8054\u52a8\u5217\u8868 SwipeToActionLayout \u5217\u8868\u4fa7\u6ed1\u6309\u94ae flexbox-layout \u8c37\u6b4c\u51fa\u54c1\u7684FlexBox\u6d41\u5f0f\u5e03\u5c40(\u4f38\u7f29\u5e03\u5c40) SpannedGridLayoutManager \u6839\u636eSpanSize\u91cd\u65b0\u6392\u5217\u5217\u8868\u6765\u586b\u6ee1"},{"location":"divider-grid/","title":"Grid List","text":"<p>\u652f\u6301<code>GridLayoutManager</code>\u7684\u7f51\u683c\u5e03\u5c40\u7684\u5206\u5272\u7ebf</p>"},{"location":"divider-grid/#_1","title":"\u6c34\u5e73\u5206\u5272\u7ebf","text":"<pre><code>rv.grid(3).divider(R.drawable.divider_horizontal).setup {\naddType&lt;DividerModel&gt;(R.layout.item_divider_horizontal)\n}.models = getData()\n</code></pre>"},{"location":"divider-grid/#_2","title":"\u5782\u76f4\u5206\u5272\u7ebf","text":"<pre><code>rv.grid(3, RecyclerView.HORIZONTAL)\n.divider(R.drawable.divider_vertical, DividerOrientation.VERTICAL)\n.setup {\naddType&lt;DividerModel&gt;(R.layout.item_divider_vertical)\n}.models = getData()\n</code></pre>"},{"location":"divider-grid/#_3","title":"\u7f51\u683c\u5206\u5272\u7ebf","text":"<pre><code>rv.grid(3).divider {\nsetDrawable(R.drawable.divider_horizontal)\norientation = DividerOrientation.GRID\n}.setup {\naddType&lt;DividerModel&gt;(R.layout.item_divider_horizontal)\n}.models = getData()\n</code></pre>"},{"location":"divider-grid/#_4","title":"\u8fb9\u7f18\u5206\u5272\u7ebf","text":"<p>\u901a\u8fc7\u4e24\u4e2a\u5b57\u6bb5\u53ef\u4ee5\u63a7\u5236\u8fb9\u7f18\u5206\u5272\u7ebf\u662f\u5426\u663e\u793a</p> \u5b57\u6bb5 \u63cf\u8ff0 startVisible \u662f\u5426\u663e\u793a\u4e0a\u4e0b\u8fb9\u7f18\u5206\u5272\u7ebf endVisible \u662f\u5426\u663e\u793a\u5de6\u53f3\u8fb9\u7f18\u5206\u5272\u7ebf includeVisible \u662f\u5426\u663e\u793a\u5468\u56f4\u5206\u5272\u7ebf"},{"location":"divider-grid/#1","title":"1) \u4e0a\u4e0b","text":"<pre><code>rv.grid(3).divider {\nsetDrawable(R.drawable.divider_horizontal)\norientation = DividerOrientation.GRID\nstartVisible = true\n}.setup {\naddType&lt;DividerModel&gt;(R.layout.item_divider_horizontal)\n}.models = getData()\n</code></pre>"},{"location":"divider-grid/#2","title":"2) \u5de6\u53f3","text":"<pre><code>rv.grid(3).divider {\nsetDrawable(R.drawable.divider_horizontal)\norientation = DividerOrientation.GRID\nendVisible = true\n}.setup {\naddType&lt;DividerModel&gt;(R.layout.item_divider_horizontal)\n}.models = getData()\n</code></pre>"},{"location":"divider-grid/#3","title":"3) \u56db\u5468","text":"<pre><code>rv.grid(3).divider {\nsetDrawable(R.drawable.divider_horizontal)\norientation = DividerOrientation.GRID\nstartVisible = true\nendVisible = true\n}.setup {\naddType&lt;DividerModel&gt;(R.layout.item_divider_horizontal)\n}.models = getData()\n</code></pre>"},{"location":"divider-grid/#_5","title":"\u5206\u5272\u7ebf\u95f4\u9694","text":"<p>\u5206\u5272\u7ebf\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u662f\u57fa\u4e8erv\u8bbe\u7f6e\u95f4\u9694</p> <p></p> <pre><code>binding.rv.grid(3, orientation = RecyclerView.VERTICAL).divider {\norientation = DividerOrientation.GRID\nsetDivider(1, true)\nsetMargin(16, 16, dp = true)\nsetColor(Color.WHITE)\n}.setup {\naddType&lt;DividerModel&gt;(R.layout.item_divider_vertical)\n}.models = getData()\n</code></pre> <p> \u4f7f\u7528<code>baseItemStart/baseItemEnd</code>\u53c2\u6570\u4ee5item\u4e3a\u57fa\u51c6\u8bbe\u7f6e\u95f4\u9694</p> <p></p> <p></p> <pre><code>binding.rv.grid(3, orientation = RecyclerView.VERTICAL).divider {\norientation = DividerOrientation.GRID\nsetDivider(1, true)\nsetMargin(16, 16, dp = true, baseItemStart = true)\nsetColor(Color.WHITE)\n}.setup {\naddType&lt;DividerModel&gt;(R.layout.item_divider_vertical)\n}.models = getData()\n</code></pre>"},{"location":"divider-grid/#_6","title":"\u7f51\u683c\u60ac\u505c\u5747\u5e03\u95f4\u9694","text":"<p>\u8fd9\u91cc\u5efa\u8bae\u4f7f\u7528\u5d4c\u5957\u5217\u8868\u5b8c\u6210, \u907f\u514d\u5206\u5272\u7ebf\u51fa\u73b0\u95ee\u9898. \u8fd9\u79cd\u9700\u6c42\u6bd4\u8f83\u5e38\u89c1\u6240\u4ee5\u6f14\u793a\u5b9e\u73b0\u601d\u8def</p> <p></p> <pre><code>binding.rv.linear().setup {\nonCreate {\nif (itemViewType == R.layout.item_simple_list) { // \u6784\u5efa\u5d4c\u5957\u7f51\u683c\u5217\u8868\nfindView&lt;RecyclerView&gt;(R.id.rv).divider { // \u6784\u5efa\u95f4\u8ddd\nsetDivider(20)\nincludeVisible = true\norientation = DividerOrientation.GRID\n}.grid(2).setup {\naddType&lt;Model&gt;(R.layout.item_group_none_margin)\n}\n}\n}\nonBind {\nif (itemViewType == R.layout.item_simple_list) { // \u4e3a\u5d4c\u5957\u7684\u7f51\u683c\u5217\u8868\u8d4b\u503c\u6570\u636e\nfindView&lt;RecyclerView&gt;(R.id.rv).models =\ngetModel&lt;NestedGroupModel&gt;().itemSublist\n}\n}\naddType&lt;NestedGroupModel&gt;(R.layout.item_simple_list)\naddType&lt;HoverHeaderModel&gt;(R.layout.item_hover_header)\n}.models = getData()\n</code></pre>"},{"location":"divider-linear/","title":"Linear List","text":"<p>\u5982\u679c\u76f4\u63a5\u7ed8\u5236item\u7684xml\u53ef\u4ee5\u5b9e\u73b0\u5206\u5272\u7ebf, \u6bd4\u5982\u4f60\u5728xml\u4e2d\u4f7f\u7528\u7b80\u5355\u7684<code>layout_margin</code>(\u8bbe\u7f6e\u95f4\u8ddd)\u4e5f\u80fd\u5b8c\u6210\u4f60\u60f3\u8981\u7684\u5206\u5272\u7ebf\u6548\u679c, \u90a3\u4e48\u6211\u66f4\u5efa\u8bae\u4f7f\u7528layout_margin</p>"},{"location":"divider-linear/#_1","title":"\u6c34\u5e73\u5206\u5272\u7ebf","text":"<p>\u521b\u5efa\u4e00\u4e2a<code>drawable</code>\u6587\u4ef6\u6765\u63cf\u8ff0\u5206\u9694\u7ebf, \u5176\u5177\u5907\u590d\u7528\u7684\u7279\u70b9</p> <pre><code>&lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n&lt;solid android:color=\"@color/dividerDecoration\" /&gt;\n&lt;size android:height=\"5dp\" /&gt;\n&lt;/shape&gt;\n</code></pre> <p>\u521b\u5efa\u5217\u8868</p> <pre><code>rv.linear().divider(R.drawable.divider_horizontal).setup {\naddType&lt;DividerModel&gt;(R.layout.item_divider)\n}.models = getData()\n</code></pre> <p></p>"},{"location":"divider-linear/#_2","title":"\u5782\u76f4\u5206\u5272\u7ebf","text":"<p>\u521b\u5efaDrawable\u4f5c\u4e3a\u5206\u9694\u7ebf <pre><code>&lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n&lt;solid android:color=\"@color/dividerDecoration\" /&gt;\n&lt;size android:width=\"5dp\" /&gt;\n&lt;/shape&gt;\n</code></pre></p> <p>\u521b\u5efa\u5217\u8868 <pre><code>rv.linear(RecyclerView.HORIZONTAL).divider(R.drawable.divider_vertical).setup {\naddType&lt;DividerModel&gt;(R.layout.item_divider_vertical)\n}.models = getData()\n</code></pre></p> <ul> <li>\u8fd9\u91cc\u4f7f\u7528<code>Drawable</code>\u8d44\u6e90\u6765\u5feb\u901f\u8bbe\u7f6e\u5206\u5272\u7ebf, Drawable\u7684\u5bbd\u9ad8\u5c31\u662f\u5206\u5272\u7ebf\u7684\u5bbd\u9ad8</li> <li>\u5982\u679c\u6c34\u5e73\u5206\u5272\u7ebf, \u5219Drawable\u7684\u5bbd\u5ea6\u503c\u65e0\u6548(\u5b9e\u9645\u5bbd\u5ea6\u503c\u4e3aRecyclerView\u7684\u5bbd)</li> <li>\u5982\u679c\u5782\u76f4\u5206\u5272\u7ebf, \u5219Drawable\u7684\u9ad8\u5ea6\u503c\u65e0\u6548(\u5b9e\u9645\u5206\u5272\u7ebf\u9ad8\u5ea6\u4e3aRecyclerView\u9ad8\u5ea6)</li> </ul>"},{"location":"divider-linear/#_3","title":"\u8fb9\u7f18\u5206\u5272\u7ebf","text":"\u5b57\u6bb5 \u63cf\u8ff0 startVisible \u662f\u5426\u663e\u793a\u9996\u90e8\u5206\u5272\u7ebf endVisible \u662f\u5426\u663e\u793a\u5c3e\u90e8\u5206\u5272\u7ebf includeVisible \u662f\u5426\u663e\u793a\u9996\u5c3e\u5206\u5272\u7ebf <p>\u901a\u8fc7\u4e24\u4e2a\u5b57\u6bb5\u53ef\u4ee5\u63a7\u5236\u9996\u5c3e\u662f\u5426\u663e\u793a\u5206\u5272\u7ebf</p> <pre><code>rv.linear().divider {\nsetDrawable(R.drawable.divider_horizontal)\nstartVisible = true\nendVisible = true\n}.setup {\naddType&lt;DividerModel&gt;(R.layout.item_divider_horizontal)\n}.models = getData()\n</code></pre>"},{"location":"divider-linear/#_4","title":"\u56db\u5468\u5168\u5305\u88f9","text":"<p>\u8fd9\u79cd\u5206\u5272\u7ebf\u5c5e\u4e8e\u7f51\u683c\u5206\u5272\u7ebf, \u8981\u6c42\u4f7f\u7528<code>DividerOrientation.GRID</code>, \u4f46LinearLayoutManager\u5e76\u4e0d\u652f\u6301</p> <p>\u8fd9\u91cc\u6709\u4e24\u79cd\u89e3\u51b3\u529e\u6cd5</p> <ol> <li>\u4f7f\u7528spanCount\u4e3a1\u7684GridLayoutManager\u7b49\u6548</li> <li>\u5728rv\u4e24\u4fa7\u5355\u72ec\u4f7f\u7528<code>View</code>\u7ed8\u5236\u4e24\u6761\u5206\u5272\u7ebf</li> </ol> <p>\u63a8\u8350\u7b2c\u4e00\u79cd\u529e\u6cd5, \u793a\u4f8b\u4ee3\u7801\u5982\u4e0b:</p> <pre><code>rv.grid().divider{\nsetDrawable(R.drawable.divider_horizontal)\norientation = DividerOrientation.GRID\nincludeVisible = true\n}.setup {\naddType&lt;DividerModel&gt;(R.layout.item_divider_vertical)\n}.models = getData()\n</code></pre>"},{"location":"divider-linear/#_5","title":"\u5206\u5272\u7ebf\u95f4\u9694","text":"<p>\u6709\u4e24\u79cd\u65b9\u5f0f</p> <ol> <li> <p>\u76f4\u63a5\u914d\u7f6e\u4e00\u4e2a\u5177\u5907\u95f4\u9694margin\u7684drawable, \u4ee5\u4e0b\u4e3a\u95f4\u8ddd16\u7684\u6c34\u5e73\u5206\u5272\u7ebf</p> <pre><code>&lt;inset xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:insetLeft=\"16dp\"\nandroid:insetRight=\"16dp\"&gt;\n&lt;shape&gt;\n&lt;solid android:color=\"@color/dividerDecoration\" /&gt;\n&lt;size android:height=\"5dp\" /&gt;\n&lt;/shape&gt;\n&lt;/inset&gt;\n</code></pre> </li> <li> <p>\u4f7f\u7528setMargin()</p> <pre><code>binding.rv.linear().divider {\nsetDivider(1, true)\nsetMargin(16, 0, dp = true)\nsetColor(Color.WHITE)\n}.setup {\naddType&lt;DividerModel&gt;(R.layout.item_divider_vertical)\n}\n</code></pre> </li> </ol>"},{"location":"divider-other/","title":"Custom","text":"<ol> <li>BRV\u7684\u5206\u5272\u7ebf\u51fd\u6570<code>divider</code>\u90fd\u662f\u901a\u8fc7\u521b\u5efa<code>DefaultDecoration</code>\u6765\u5b9e\u73b0\u7684. \u5982\u679c\u60f3\u8bbf\u95ee\u66f4\u591a\u529f\u80fd\u8bf7\u67e5\u770b\u8be5\u7c7b\u516c\u5f00\u51fd\u6570</li> <li>\u5047\u8bbe\u81ea\u5e26\u7684\u5206\u5272\u7ebf\u529f\u80fd\u4e0d\u6ee1\u8db3\u4f60\u7684\u8981\u6c42\u4f60\u53ef\u4ee5\u7ee7\u627f<code>RecyclerView.ItemDecoration</code>\u5b9e\u73b0</li> </ol>"},{"location":"divider-other/#_1","title":"\u7ec4\u5408\u95f4\u8ddd","text":"<p>\u53ef\u4ee5\u91cd\u590d\u8c03\u7528<code>.divider</code>\u6765\u53e0\u52a0\u8bbe\u7f6e\u5206\u5272\u7ebf/\u95f4\u8ddd</p> <pre><code>binding.rv.grid(3).divider { // \u6c34\u5e73\u95f4\u8ddd\norientation = DividerOrientation.HORIZONTAL\nsetDivider(10, true)\n}.divider { // \u5782\u76f4\u95f4\u8ddd\norientation = DividerOrientation.VERTICAL\nsetDivider(20, true)\nonEnabled { // \u662f\u5426\u4e3a\u5f53\u524dItem\u542f\u7528\u5206\u5272\u7ebf\nitemViewType == R.layout.item_divider_vertical\n}\n}.setup {\naddType&lt;DividerModel&gt;(R.layout.item_divider_vertical)\n}.models = getData()\n</code></pre>"},{"location":"divider-other/#_2","title":"\u65b9\u6cd5","text":"\u51fd\u6570 \u63cf\u8ff0 onEnabled \u662f\u5426\u4e3a\u5f53\u524dItem\u542f\u7528\u5206\u5272\u7ebf addType \u5047\u8bbe\u4f7f\u7528\u8be5\u51fd\u6570\u5219\u53ea\u6709\u88ab\u6dfb\u52a0\u7684\u7c7b\u578b\u624d\u4f1a\u7ed8\u5236\u5206\u5272\u7ebf setColor \u8bbe\u7f6e\u5206\u5272\u7ebf\u989c\u8272 setDrawable \u8bbe\u7f6e\u5206\u5272\u7ebf\u56fe\u7247 setBackground \u8bbe\u7f6e\u5206\u5272\u7ebf\u80cc\u666f\u989c\u8272 setMargin \u8bbe\u7f6e\u5206\u5272\u7ebf\u95f4\u8ddd"},{"location":"divider-other/#_3","title":"\u8ba1\u7b97\u8fb9\u7f18","text":"<p>\u5176\u4e2d\u6709\u4e00\u4e2a\u5de5\u5177\u7c7b\u53ef\u4ee5\u8ba1\u7b97\u51faItem\u4f4d\u4e8e\u5217\u8868\u7684\u8fb9\u7f18\u4f4d\u7f6e, \u53ef\u4ee5\u7528\u4e8e\u6765\u8bbe\u7f6e\u95f4\u8ddd, \u5373<code>Edge.computeEdge()</code>\u8fd4\u56de\u7ed3\u679c\u4e3a<code>Edge</code></p> <pre><code>data class Edge(\nvar left: Boolean = false,\nvar top: Boolean = false,\nvar right: Boolean = false,\nvar bottom: Boolean = false\n)\n</code></pre> <p>left\u4e3atrue\u5219\u8868\u793a\u6307\u5b9aposition\u4f4d\u4e8e\u5217\u8868\u5de6\u4fa7, top\u4e3atrue\u5219\u8868\u793a\u6307\u5b9aposition\u4f4d\u4e8e\u5217\u8868\u9876\u90e8, \u5176\u4ed6\u7c7b\u63a8. \u5373\u53ef\u6839\u636e\u5176\u7ed3\u679c\u6765\u8bbe\u7f6eItemView\u7684\u95f4\u8ddd</p>"},{"location":"divider-staggerd/","title":"Staggered Grid List","text":"<p>\u7011\u5e03\u6d41\u5206\u5272\u7ebf</p> <p></p> <pre><code>rv.staggered(3).divider(R.drawable.divider_horizontal).setup {\naddType&lt;DividerModel&gt;(R.layout.item_divider_horizontal)\n\nonBind {\n// \u6a21\u62df\u52a8\u6001\u9ad8\u5ea6\nval layoutParams = itemView.layoutParams\nlayoutParams.height = getModel&lt;DividerModel&gt;().height\nitemView.layoutParams = layoutParams\n}\n}.models = getData()\n</code></pre>"},{"location":"divider-staggerd/#_1","title":"\u8fb9\u7f18\u5206\u5272\u7ebf","text":"<p>\u901a\u8fc7\u4e24\u4e2a\u5b57\u6bb5\u53ef\u4ee5\u63a7\u5236\u8fb9\u7f18\u5206\u5272\u7ebf\u662f\u5426\u663e\u793a</p> \u5b57\u6bb5 \u63cf\u8ff0 startVisible \u662f\u5426\u663e\u793a\u4e0a\u4e0b\u8fb9\u7f18\u5206\u5272\u7ebf endVisible \u662f\u5426\u663e\u793a\u5de6\u53f3\u8fb9\u7f18\u5206\u5272\u7ebf includeVisible \u662f\u5426\u663e\u793a\u5468\u56f4\u5206\u5272\u7ebf"},{"location":"drag/","title":"Drag and Drop","text":"<p>\u4e3a\u6570\u636e\u6a21\u578b\u5b9e\u73b0\u63a5\u53e3<code>ItemDrag</code>\u5373\u53ef\u5f00\u542f\u62d6\u62fd\u529f\u80fd</p> <pre><code>data class DragModel(override var itemOrientationDrag: Int = ItemOrientation.ALL) : ItemDrag\n</code></pre> <p>\u6ce8\u610f\u5982\u679c\u4f60\u7684\u6570\u636e\u6a21\u578b\u88abGson\u53cd\u5e8f\u5217\u5316\u540e, \u4f1a\u5220\u9664\u6240\u6709\u7684\u5b57\u6bb5\u521d\u59cb\u5316\u503c</p> <p>\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u91cd\u5199\u8bbf\u95ee\u51fd\u6570\u6765\u89e3\u51b3\u95ee\u9898, \u8ba9\u8be5\u503c\u56fa\u5b9a\u8fd4\u56de</p> <pre><code>class DragModel() : ItemDrag {\noverride var itemOrientationDrag: Int = 0\nget() = ItemOrientation.ALL // \u53ea\u4f1a\u8fd4\u56de\u8be5\u503c\n}\n</code></pre>"},{"location":"drag/#itemorientation","title":"ItemOrientation","text":"<p>\u8be5\u7c7b\u5305\u542b\u62d6\u62fd\u53ef\u914d\u7f6e\u7684\u65b9\u5411</p> \u5b57\u6bb5 \u63cf\u8ff0 <code>ALL</code> \u5168\u90e8\u65b9\u5411 <code>VERTICAL</code> \u5782\u76f4\u65b9\u5411 <code>HORIZONTAL</code> \u6c34\u5e73\u65b9\u5411 <code>LEFT</code> \u5411\u5de6 <code>RIGHT</code> \u5411\u53f3 <code>UP</code> \u5411\u4e0a <code>DOWN</code> \u5411\u4e0b <code>NONE</code> \u7981\u7528"},{"location":"drag/#_1","title":"\u81ea\u5b9a\u4e49","text":"<p>\u5982\u679c\u60f3\u8981\u6269\u5c55ItemTouchHelper\u6216\u76d1\u542c\u53ef\u4ee5\u7ed9BindingAdapter\u7684\u53d8\u91cf<code>itemTouchHelper</code>\u8d4b\u503c</p> <pre><code>rv.linear().setup {\naddType&lt;Model&gt;(R.layout.item)\n\nitemTouchHelper = ItemTouchHelper(object : DefaultItemTouchCallback(this) {\n\n/**\n     * \u5f53\u62d6\u62fd\u52a8\u4f5c\u5b8c\u6210\u4e14\u677e\u5f00\u624b\u6307\u65f6\u89e6\u53d1\n     */\nopen fun onDrag(\nsource: BindingAdapter.BindingViewHolder,\ntarget: BindingAdapter.BindingViewHolder\n) {\n// \u8fd9\u662f\u62d6\u62fd\u4ea4\u6362\u540e\u56de\u8c03, \u8fd9\u91cc\u53ef\u4ee5\u540c\u6b65\u670d\u52a1\u5668\n}\n\n})\n\n}.models = data\n</code></pre> <p><code>DefaultItemTouchCallback</code>\u662fBRV\u5185\u90e8\u7684\u89e6\u6478\u4e8b\u4ef6\u5904\u7406, \u4f60\u53ef\u4ee5\u8986\u5199\u4ed6\u6216\u8005\u76f4\u63a5<code>ItemTouchHelper.Callback</code></p>"},{"location":"drag/#_2","title":"\u70b9\u51fb\u62d6\u62fd","text":"<p>\u76f4\u63a5\u70b9\u51fbItem\u5f00\u59cb\u62d6\u62fd\u4f1a\u5b58\u5728\u624b\u52bf\u51b2\u7a81\u95ee\u9898, \u56e0\u4e3a\u6ed1\u52a8\u5217\u8868\u548c\u62d6\u62fd\u6392\u5e8f\u90fd\u662f\u79fb\u52a8\u624b\u52bf. \u6240\u4ee5\u5efa\u8bae\u4f60\u62d6\u62fditem\u7684\u67d0\u4e2a\u5c0f\u56fe\u6807\u5f00\u59cb\u62d6\u62fd(\u62d6\u62fditem\u5219\u6ed1\u52a8\u5217\u8868)</p> <p>\u793a\u4f8b\u4ee3\u7801 <pre><code>rv.linear().setup {\naddType&lt;DragModel&gt;(R.layout.item_drag)\nonBind {\nfindView&lt;View&gt;(R.id.btnDrag).setOnTouchListener { _, event -&gt;\nif (event.action == MotionEvent.ACTION_DOWN) { // \u5982\u679c\u624b\u6307\u6309\u4e0b\u5219\u5f00\u59cb\u62d6\u62fd\nitemTouchHelper?.startDrag(this)\n}\ntrue\n}\n}\n}.models = getData()\n</code></pre></p>"},{"location":"extension/","title":"Extension Functions","text":""},{"location":"extension/#recyclerview","title":"RecyclerView","text":"<p>\u63d0\u4f9b\u4e00\u4e9b<code>BindingAdapter</code>\u5e38\u7528\u7684\u8c03\u7528</p> \u51fd\u6570 \u63cf\u8ff0 bindingAdapter \u5982\u679cAdapter\u662f[BindingAdapter]\u5219\u8fd4\u56de\u5bf9\u8c61, \u5426\u5219\u629b\u51fa\u5f02\u5e38 models \u6570\u636e\u6a21\u578b\u96c6\u5408, \u65e0\u9700\u6267\u884c<code>notify*</code>\u51fd\u6570, \u81ea\u52a8\u4f7f\u7528<code>notifyDataChanged</code>\u5237\u65b0 _data \u548cmodels\u7684\u552f\u4e00\u533a\u522b\u662f\u4e0d\u4f1a\u81ea\u52a8\u4f7f\u7528<code>notifyDataChanged</code>\u5237\u65b0 mutable \u53ef\u589e\u5220\u7684\u975e\u7a7a[models]\u53ea\u8bfb\u6570\u636e\u6a21\u578b\u96c6\u5408, \u9700\u8981\u6267\u884c<code>notify*</code>\u51fd\u6570\u624b\u52a8\u5237\u65b0\u5217\u8868,\u5982\u679c\u5b9e\u9645\u6ca1\u6709\u8d4b\u503c\u6570\u636e\u8be5\u51fd\u6570\u4f1a\u629b\u51fa\u5f02\u5e38 addModels \u6dfb\u52a0\u6570\u636e, \u81ea\u52a8\u5237\u65b0\u5217\u8868"},{"location":"extension/#_1","title":"\u5e03\u5c40\u7ba1\u7406\u5668","text":"<p>\u6846\u67b6\u8fd8\u63d0\u4f9b\u5feb\u901f\u521b\u5efa\u5e03\u5c40\u7ba1\u7406\u5668\u7684\u6269\u5c55\u51fd\u6570, \u4e0a\u9762\u4f7f\u7528\u793a\u4f8b</p> LinearLayoutManager <pre><code>rv.linear().setup {\naddType&lt;SimpleModel&gt;(R.layout.item_simple)\n}.models = getData()\n</code></pre> GridLayoutManager <pre><code>rv.grid(3).setup {\naddType&lt;SimpleModel&gt;(R.layout.item_simple)\n}.models = getData()\n</code></pre> StaggeredLayoutManager <pre><code>rv.staggered(3).setup {\naddType&lt;SimpleModel&gt;(R.layout.item_simple)\n}.models = getData()\n</code></pre> <p>\u76f8\u5173\u51fd\u6570</p> \u51fd\u6570 \u63cf\u8ff0 linear \u4f7f\u7528<code>LinearLayoutManager</code>\u521b\u5efa\u7ebf\u6027\u5217\u8868 grid \u4f7f\u7528<code>GridLayoutManager</code>\u521b\u5efa\u7f51\u683c\u5217\u8868 staggered \u4f7f\u7528<code>StaggeredLayoutManager</code>\u521b\u5efa\u7011\u5e03\u6d41\u5217\u8868"},{"location":"extension/#_2","title":"\u5206\u5272\u7ebf","text":"<p>\u6846\u67b6\u63d0\u4f9b\u5feb\u901f\u8bbe\u7f6e\u5206\u9694\u7269\u6269\u5c55\u51fd\u6570</p> <p><pre><code>rv.linear().divider(R.drawable.divider_horizontal).setup {\naddType&lt;DividerModel&gt;(R.layout.item_divider_horizontal)\n}.models = getData()\n</code></pre> \u6269\u5c55\u51fd\u6570\u5b9e\u9645\u4e0a\u5c31\u662f\u4f7f\u7528\u7684DefaultDecoration\u6765\u521b\u5efa\u5bf9\u8c61</p>"},{"location":"extension/#_3","title":"\u5bf9\u8bdd\u6846","text":"<p>\u901a\u8fc7\u6269\u5c55\u51fd\u6570\u5feb\u901f\u7ed9\u5bf9\u8bdd\u6846\u521b\u5efa\u5217\u8868</p> <pre><code>Dialog(activity).setAdapter(bindingAdapter).show()\n</code></pre> <p>\u51fd\u6570 <pre><code>fun Dialog.brv(block: BindingAdapter.(RecyclerView) -&gt; Unit): Dialog\n</code></pre></p>"},{"location":"flexbox/","title":"Flexbox Layout","text":"<p>BRV\u5bf9\u4e8e\u4f38\u7f29\u5e03\u5c40\u7684\u5b9e\u73b0\u53ef\u4ee5\u81ea\u884c\u6dfb\u52a0Google\u5f00\u6e90\u5e93 flexbox-layout</p> <p>\u6dfb\u52a0\u4f9d\u8d56</p> <pre><code>dependencies {\nimplementation 'com.google.android.flexbox:flexbox:3.0.0'\n}\n</code></pre> <p>\u7136\u540e\u521b\u5efa\u5217\u8868</p> <p></p> <pre><code>rv.layoutManager = FlexboxLayoutManager(activity)\n\nrv.setup {\naddType&lt;FlexTagModel&gt;(R.layout.item_flex_tag)\n}.models = getData()\n</code></pre>"},{"location":"group/","title":"Grouping","text":""},{"location":"group/#_1","title":"\u7279\u70b9","text":"<ul> <li>\u5c55\u5f00/\u6298\u53e0</li> <li>\u52a8\u753b</li> <li>\u9012\u5f52\u5c55\u5f00/\u6298\u53e0</li> <li>\u5c55\u5f00\u540e\u7f6e\u9876</li> <li>\u5217\u8868\u59cb\u7ec8\u4ec5\u5c55\u5f00\u4e00\u4e2a\u5206\u7ec4</li> <li>\u67e5\u627e\u4e0a\u5c42\u5206\u7ec4</li> <li>\u5206\u7ec4\u548c\u591a\u7c7b\u578b\u53ef\u4ee5\u5171\u5b58</li> </ul> <ol> <li>\u5217\u8868\u5c55\u5f00/\u6298\u53e0\u5373\u52a8\u6001\u4fee\u6539models\u6570\u636e\u96c6\u5408\u5185\u5bb9, \u5217\u8868\u7684<code>\u5c55\u5f00(\u5c06\u5b50\u5217\u8868\u6dfb\u52a0\u5230\u6570\u636e\u96c6\u5408\u4e2d)\u548c\u6298\u53e0(\u5c06\u5b50\u5217\u8868\u4ece\u6570\u636e\u96c6\u5408\u4e2d\u5220\u9664)</code>\u90fd\u4f1a\u5bfc\u81f4\u5217\u8868\u6570\u636e\u7d22\u5f15\u53d8\u5316(\u5982\u679c\u4f60\u4e3arv\u8d4b\u503c\u53ef\u53d8\u96c6\u5408\u60c5\u51b5\u4e0b)</li> <li>\u4e0d\u8981\u4e3a\u6570\u636e\u96c6\u5408\u91cd\u590d\u6dfb\u52a0\u4e00\u4e2a\u5bf9\u8c61, \u8fd9\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u9519\u4e71</li> </ol>"},{"location":"group/#_2","title":"\u4f7f\u7528","text":"<p>\u8981\u6c42Model\u5b9e\u73b0ItemExpand</p> <pre><code>class GroupModel : ItemExpand {\n// \u540c\u7ea7\u522b\u5206\u7ec4\u7684\u7d22\u5f15\u4f4d\u7f6e\noverride var itemGroupPosition: Int = 0\n\n// \u5f53\u524d\u6761\u76ee\u662f\u5426\u5c55\u5f00\noverride var itemExpand: Boolean = false\n\n// \u8be5\u53d8\u91cf\u5b58\u50a8\u5b50\u5217\u8868\noverride var itemSublist: List&lt;Any?&gt;? = listOf(Model(), Model(), Model(), Model())\n}\n</code></pre> <ol> <li>\u5f53\u4f60\u8981\u4fee\u6539\u5b50\u9879itemSublist\u65f6\u8bf7\u4f7f\u7528\u7c7b\u578b\u5f3a\u8f6c\u5c06\u5176\u8f6c\u6210\u53ef\u53d8\u96c6\u5408\u540e\u4fee\u6539, \u4f8b(itemModel.itemSublist as ArrayList).add\u6216\u8005remove\u7b49\u4fee\u6539\u5206\u7ec4\u96c6\u5408</li> <li>\u5982\u679c\u8be5\u6570\u636e\u6a21\u578b\u662f\u7531Gson\u751f\u6210\u90a3\u4e48\u5176\u5b57\u6bb5\u9ed8\u8ba4\u503c\u5168\u90e8\u4f1a\u88ab\u7f6e\u4e3anull, \u8fd9\u662f\u7531\u4e8eGson\u4e0d\u652f\u6301Kotlin\u7684\u9ed8\u8ba4\u503c\u95ee\u9898</li> </ol> <p>\u521b\u5efa\u5217\u8868</p> <pre><code>rv.linear().setup {\n// \u4efb\u4f55\u6761\u76ee\u90fd\u9700\u8981\u6dfb\u52a0\u7c7b\u578b\u5230BindingAdapter\u4e2d\naddType&lt;GroupModel&gt;(R.layout.item_group_title)\n\nR.id.item.onClick {\nexpandOrCollapse() // \u5c55\u5f00\u6216\u8005\u6298\u53e0\n}\n\n}.models = getData()\n</code></pre>"},{"location":"group/#_3","title":"\u5206\u7ec4\u5c42\u7ea7","text":"<p>\u5206\u7ec4\u5c42\u7ea7\u5176\u5b9e\u6570\u636e\u96c6\u5408\u672c\u8eab\u5c31\u80fd\u8ba1\u7b97\u51fa\u6765</p> <p>\u4e3a\u65b9\u4fbfBRV\u63d0\u4f9b<code>ItemDepth</code>\u548c<code>ItemDepth.refreshItemDepth</code>\u8f85\u52a9\u8ba1\u7b97Item\u7684\u5c42\u7ea7, \u5176\u4e2d<code>ItemDepth.itemDepth</code>\u4e3a\u5f53\u524dModel\u5c42\u7ea7\uff0c\u5c42\u7ea7\u8ba1\u6570\u4ece0\u4f9d\u6b21\u9012\u589e</p> <p>\u793a\u4f8b\u4ee3\u7801</p> <pre><code>// Model\u5b9e\u73b0ItemDepth\nclass SampleItemDepth(override var itemDepth: Int) : ItemDepth\n\n//\nfun getData(): List&lt;ItemDepth&gt; = List(10) { SampleItemDepth(it) }\n\n\nrv.linear().setup {\n// ...\n}.models = ItemDepth.refreshItemDepth(getData())\n</code></pre>"},{"location":"group/#_4","title":"\u5206\u7ec4\u591a\u7c7b\u578b","text":"<p>\u8fd9\u79cd\u6dfb\u52a0<code>spanSizeLookup</code>\u5373\u53ef\u5b9e\u73b0. \u8bf7\u67e5\u770b\u793a\u4f8b\u4ee3\u7801</p> <p>\u5206\u7ec4\u548c\u591a\u7c7b\u578b\u5c5e\u4e8e\u4e92\u4e0d\u5f71\u54cd\u7684\u529f\u80fd, \u5206\u7ec4\u4e0b\u7684\u591a\u7c7b\u578b\u548c\u666e\u901a\u5217\u8868\u7684\u591a\u7c7b\u578b\u6dfb\u52a0\u65b9\u5f0f\u7b49\u540c</p>"},{"location":"group/#_5","title":"\u5206\u7ec4\u62d6\u62fd/\u4fa7\u6ed1","text":"<p>\u62d6\u62fd/\u4fa7\u6ed1\u529f\u80fd\u548c\u5206\u7ec4\u672c\u8eab\u4e92\u4e0d\u5f71\u54cd. \u4f46\u662f\u9488\u5bf9\u5df2\u5c55\u5f00\u7684\u5206\u7ec4\u9700\u8981\u5728\u52a8\u4f5c\u53d1\u751f\u4e4b\u524d\u6298\u53e0\u4ee5\u4fdd\u8bc1\u5217\u8868\u6570\u636e\u4e0d\u9519\u4e71, \u6240\u4ee5\u6211\u4eec\u9700\u8981\u81ea\u5b9a\u4e49\u90e8\u5206\u5b9e\u73b0</p> <p><pre><code>binding.rv.linear().setup {\n\n// \u81ea\u5b9a\u4e49\u90e8\u5206\u5b9e\u73b0\nitemTouchHelper = ItemTouchHelper(object : DefaultItemTouchCallback() {\noverride fun onSelectedChanged(viewHolder: RecyclerView.ViewHolder?, actionState: Int) {\nif (actionState == ItemTouchHelper.ACTION_STATE_DRAG) { // \u62d6\u62fd\u79fb\u52a8\u5206\u7ec4\u524d\u5148\u6298\u53e0\u5b50\u5217\u8868\n(viewHolder as BindingAdapter.BindingViewHolder).collapse()\n}\nsuper.onSelectedChanged(viewHolder, actionState)\n}\n\noverride fun onSwiped(viewHolder: RecyclerView.ViewHolder, direction: Int) {\n(viewHolder as BindingAdapter.BindingViewHolder).collapse() // \u4fa7\u6ed1\u5220\u9664\u5206\u7ec4\u524d\u5148\u6298\u53e0\u5b50\u5217\u8868\nsuper.onSwiped(viewHolder, direction)\n\n// \u5982\u679c\u4fa7\u6ed1\u5220\u9664\u7684\u662f\u5206\u7ec4\u91cc\u9762\u7684\u5b50\u5217\u8868, \u8981\u5220\u9664\u5bf9\u5e94\u7236\u5206\u7ec4\u7684itemSublist\u6570\u636e, \u5426\u5219\u4f1a\u5bfc\u81f4\u6570\u636e\u5f02\u5e38\n// itemSublist\u5fc5\u987b\u4e3a\u53ef\u53d8\u96c6\u5408, \u5426\u5219\u65e0\u6cd5\u88ab\u5220\u9664\n(vh.findParentViewHolder()?.getModelOrNull&lt;ItemExpand&gt;()?.itemSublist as? ArrayList)?.remove(vh.getModelOrNull())\n}\n})\n\n// ...\n}.models = getData()\n</code></pre> \u5177\u4f53\u53ef\u4ee5\u770b\u5b8c\u6574\u793a\u4f8b\u4ee3\u7801</p>"},{"location":"group/#_6","title":"\u5206\u7ec4\u5168\u90e8\u5c55\u5f00/\u6298\u53e0","text":"<p>\u904d\u5386\u96c6\u5408\u6570\u636e\u5c06<code>itemExpand = true</code>\u5373\u53ef\u5c55\u5f00\u5168\u90e8(\u53cd\u4e4b\u6298\u53e0). \u5982\u679c\u8981\u63a7\u5236\u5c55\u5f00\u5c42\u7ea7\u6df1\u5ea6\u8bf7\u81ea\u5df1\u904d\u5386\u65f6\u63a7\u5236</p> <p>\u5c55\u5f00\u5168\u90e8 <pre><code>binding.rv.bindingAdapter.models = getData().forEach {\nit.itemExpand = true\n}\n</code></pre> \u6298\u53e0\u5168\u90e8 <pre><code>binding.rv.bindingAdapter.models = getData().forEach {\nit.itemExpand = false\n}\n</code></pre></p>"},{"location":"group/#_7","title":"\u5d4c\u5957\u5206\u7ec4\u5220\u9664","text":"<p>\u5728\u793a\u4f8b\u4ee3\u7801\u4e2d\u6709\u6f14\u793a\u5982\u4f55\u5220\u9664\u5d4c\u5957\u5206\u7ec4\u4e2d\u7684\u67d0\u4e2aitem, \u548c\u5220\u9664\u666e\u901aitem\u53ea\u662f\u591a\u4e86\u4e00\u4e2a\u6b65\u9aa4, \u5373\u5220\u9664\u7236item\u4e2d\u7684<code>itemSublist</code>, \u907f\u514d\u4e0b\u6b21\u5c55\u5f00\u65f6\u6570\u636e\u9519\u8bef</p> <pre><code>// \u70b9\u51fb\u5220\u9664\u5d4c\u5957\u5206\u7ec4\nval model = getModel&lt;GroupBasicModel&gt;()\nval parentPosition = findParentPosition()\nif (parentPosition != -1) {\n// \u5220\u9664\u7236item\u7684\u5d4c\u5957\u5206\u7ec4\u6570\u636e\n(getModel&lt;ItemExpand&gt;(parentPosition).itemSublist as MutableList).remove(model)\n\n// \u6b63\u5e38\u5220\u9664item\nmutable.removeAt(layoutPosition)\nnotifyItemRemoved(layoutPosition)\n}\n</code></pre> <p>\u793a\u4f8b\u4ee3\u7801: GroupFragment.kt</p>"},{"location":"group/#_8","title":"\u5206\u7ec4\u76f8\u5173\u51fd\u6570","text":"BindingAdapter\u7684\u51fd\u6570 \u63cf\u8ff0 expandAnimationEnabled \u5c55\u5f00\u662f\u5426\u663e\u793a\u6e10\u9690\u52a8\u753b, \u9ed8\u8ba4true singleExpandMode \u662f\u5426\u53ea\u5141\u8bb8\u4e00\u4e2a\u5206\u7ec4\u5c55\u5f00(\u5373\u5c55\u5f00\u5f53\u524d\u5206\u7ec4\u5c31\u6298\u53e0\u4e0a\u4e2a\u5206\u7ec4), \u9ed8\u8ba4false onExpand \u5c55\u5f00\u56de\u8c03\u76d1\u542c expand \u5c55\u5f00\u6307\u5b9a\u6761\u76ee collapse \u6298\u53e0\u6307\u5b9a\u6761\u76ee expandOrCollapse \u5c55\u5f00\u6216\u8005\u6298\u53e0\u6307\u5b9a\u6761\u76ee(\u6839\u636e\u5f53\u524d\u6761\u76ee\u72b6\u6001\u51b3\u5b9a\u662f\u6298\u53e0/\u5c55\u5f00) isSameGroup \u6307\u5b9a\u4e24\u4e2a\u7d22\u5f15\u662f\u5426\u5904\u4e8e\u76f8\u540c\u5206\u7ec4 BindingViewHolder\u7684\u51fd\u6570 \u63cf\u8ff0 expand \u5c55\u5f00\u6307\u5b9a\u6761\u76ee collapse \u6298\u53e0\u6307\u5b9a\u6761\u76ee expandOrCollapse \u5c55\u5f00\u6216\u8005\u6298\u53e0\u6307\u5b9a\u6761\u76ee(\u6839\u636e\u5f53\u524d\u6761\u76ee\u72b6\u6001\u51b3\u5b9a\u662f\u6298\u53e0/\u5c55\u5f00) findParentPosition \u67e5\u627e\u7236\u9879\u6761\u76ee\u7684\u7d22\u5f15(\u5373\u5f53\u524d\u6761\u76ee\u5c5e\u4e8e\u54ea\u4e2a\u5206\u7ec4\u4e0b), \u5982\u679c\u6ca1\u6709\u8fd4\u56de-1 findParentViewHolder \u67e5\u627e\u7236\u9879\u6761\u76eeViewHolder, null\u8868\u793a\u4e0d\u5b58\u5728\u7236\u9879\u6216\u6ca1\u6709\u663e\u793a\u5728\u5c4f\u5e55\u4e2d"},{"location":"header_footer/","title":"Header/Footer Layout","text":"<ol> <li>\u5934\u5e03\u5c40\u548c\u811a\u5e03\u5c40\u5728rv\u4e2d\u7b97\u4f5c\u4e00\u4e2aitem, \u6240\u4ee5\u8ba1\u7b97<code>position</code>\u7684\u65f6\u5019\u5e94\u5f53\u8003\u8651\u5176\u4e2d</li> <li>\u5934\u5e03\u5c40\u548c\u811a\u5e03\u5c40\u4e5f\u9700\u8981\u4f7f\u7528<code>addType</code>\u51fd\u6570\u6dfb\u52a0\u7c7b\u578b</li> </ol> <pre><code>binding.rv.linear().setup {\naddType&lt;Model&gt;(R.layout.item_simple)\n\n/**\n     * BRV\u7684\u6570\u636e\u96c6 = Header + Footer + Models\n     * \u6240\u4ee5\u672c\u8d28\u4e0a\u4ed6\u4eec\u90fd\u662f\u4e00\u7ec4\u591a\u7c7b\u578b\u800c\u5df2, \u5206\u51fa\u6765\u53ea\u662f\u4e3a\u4e86\u65b9\u4fbf\u66ff\u6362Models\u800c\u4e0d\u5f71\u54cdHeader\u548cFooter\n     */\n\naddType&lt;Header&gt;(R.layout.item_header)\naddType&lt;Footer&gt;(R.layout.item_footer)\n}.models = getData()\n\nbinding.rv.bindingAdapter.addHeader(Header(), animation = true)\nbinding.rv.bindingAdapter.addFooter(Footer(), animation = true)\n</code></pre> <p>\u4e0d\u4f7f\u7528\u4e0a\u9762\u4ecb\u7ecd\u7684\u65b9\u6cd5\u5b9e\u73b0\u8054\u52a8\u5217\u8868\u7684Header\u8fd8\u6709\u4ee5\u4e0b\u89e3\u51b3\u65b9\u6848</p> <ol> <li>\u5982\u679c\u4f60\u4e0d\u60f3\u7f3a\u7701\u9875\u8986\u76d6Header\u8bf7\u4f7f\u7528CoordinatorLayout\u6765\u5b9e\u73b0Header\u6548\u679c, \u56e0\u4e3a<code>PageRefreshLayout</code>\u7684\u7f3a\u7701\u9875\u529f\u80fd\u4f1a\u5bfc\u81f4\u6574\u4e2a\u5217\u8868\u53ef\u80fd\u90fd\u4f1a\u88ab\u7f3a\u7701\u9875\u906e\u6321</li> <li>\u5982\u679c\u53ea\u662f\u4e0d\u60f3Header\u6216\u8005Footer\u5e72\u6270BRV\u53ef\u4ee5\u4f7f\u7528ConcatAdapter\u5b9e\u73b0</li> <li>\u4f7f\u7528<code>ScrollView/NestedScrollView</code>\u5d4c\u5957rv\u4e5f\u53ef\u4ee5\u5b9e\u73b0Header\u4f46\u4f1a\u5bfc\u81f4\u5176\u5931\u53bb\u590d\u7528item\u6548\u679c, \u5217\u8868\u5b58\u5728\u5927\u91cf\u6570\u636e\u53ef\u80fd\u4f1a\u9020\u6210\u5361\u987f(\u5982\u679c\u6570\u636e\u91cf\u5c0f\u53ef\u4ee5\u5ffd\u7565)</li> </ol> <p></p>"},{"location":"header_footer/#_1","title":"\u5217\u8868\u5c40\u90e8\u7f3a\u7701\u9875","text":"<p>\u5982\u679c\u4f60\u4f7f\u7528<code>CoordinatorLayout</code>\u65b9\u6848\u6765\u89e3\u51b3\u7f3a\u7701\u9875\u8986\u76d6\u5934\u90e8\u95ee\u9898, \u4f46\u662f\u5e0c\u671b\u9875\u9762\u9876\u90e8\u5f00\u59cb\u4e0b\u62c9\u5237\u65b0</p> <p>\u8bf7\u53c2\u8003demo\u4e2d\u7684<code>PageNestedHeaderFragment</code>\u5b9e\u73b0\u4ee3\u7801. \u624b\u52a8\u6307\u5b9a\u7f3a\u7701\u9875\u907f\u514d\u8986\u76d6\u5934\u90e8</p> <pre><code>&lt;com.drake.brv.PageRefreshLayout\nandroid:id=\"@+id/page\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\napp:page_rv=\"@id/rv\"\napp:page_state=\"@id/state\"&gt;\n</code></pre> <ol> <li><code>app:page_rv</code> \u6307\u5b9a\u5d4c\u5957\u7684rv</li> <li><code>app:page_state</code> \u6307\u5b9a\u5d4c\u5957\u7684\u7f3a\u7701\u9875</li> </ol>"},{"location":"header_footer/#_2","title":"\u51fd\u6570","text":"\u51fd\u6570 \u63cf\u8ff0 addHeader / addFooter \u6dfb\u52a0\u5934\u5e03\u5c40/\u811a\u5e03\u5c40 removeHeader / removeFooter \u5220\u9664\u5934\u5e03\u5c40/\u811a\u5e03\u5c40 removeHeaderAt / removeFooterAt \u5220\u9664\u6307\u5b9a\u7d22\u5f15\u7684\u5934\u5e03\u5c40/\u811a\u5e03\u5c40 clearHeader / clearFooter \u6e05\u9664\u5168\u90e8\u5934\u5e03\u5c40/\u811a\u5e03\u5c40 isHeader / isFooter \u6307\u5b9a\u7d22\u5f15\u662f\u5426\u662f\u5934\u5e03\u5c40/\u811a\u5e03\u5c40 headerCount / footerCount \u5934\u5e03\u5c40/\u811a\u5e03\u5c40\u6570\u91cf"},{"location":"hover/","title":"Hover","text":"<p>\u901a\u8fc7\u5b9e\u73b0\u63a5\u53e3<code>ItemHover</code></p> <pre><code>class HoverHeaderModel : ItemHover {\n// \u8fd4\u56de\u503c\u51b3\u5b9a\u662f\u5426\u60ac\u505c\noverride var itemHover: Boolean = true\n}\n</code></pre> <p>\u7136\u540e\u8fd9\u4e2aItem\u5c31\u4f1a\u60ac\u505c\u5728\u9876\u90e8\u4e86</p> <p>\u5b8c\u6574\u793a\u4f8b</p> <pre><code>override fun onActivityCreated(savedInstanceState: Bundle?) {\nsuper.onActivityCreated(savedInstanceState)\n\nrv.linear().setup {\naddType&lt;Model&gt;(R.layout.item_simple)\naddType&lt;HoverHeaderModel&gt;(R.layout.item_hover_header)\nmodels = getData()\n\n// \u70b9\u51fb\u4e8b\u4ef6\nonClick(R.id.item) {\nwhen (itemViewType) {\nR.layout.item_hover_header -&gt; toast(\"\u60ac\u505c\u6761\u76ee\")\nelse -&gt; toast(\"\u666e\u901a\u6761\u76ee\")\n}\n}\n\n// \u53ef\u9009\u9879, \u7c98\u6027\u76d1\u542c\u5668\nonHoverAttachListener = object : OnHoverAttachListener {\n// \u9ecf\u4f4f\u9876\u90e8\u7684\u65f6\u5019, v\u8868\u793a\u6307\u5b9a\u60ac\u505c\u7684itemView\u5bf9\u8c61\noverride fun attachHover(v: View) {\nViewCompat.setElevation(v, 10F)\n}\n\n// \u4ece\u9876\u90e8\u5206\u79bb\u7684\u65f6\u5019\noverride fun detachHover(v: View) {\nViewCompat.setElevation(v, 0F)\n}\n}\n\n}\n}\n</code></pre> <p>\u4e0d\u540c\u4e8e\u5927\u90e8\u5206\u60ac\u505c\u6846\u67b6, BRV\u65e0\u9700\u7279\u6b8a\u5904\u7406\u652f\u6301\u5168\u90e8\u7684\u70b9\u51fb\u4e8b\u4ef6</p> <p>[BindingAdapter] \u5224\u65ad\u5f53\u524d\u4f4d\u7f6e\u662f\u5426\u5c5e\u4e8e\u60ac\u505c</p> <pre><code>fun isHover(position: Int): Boolean\n</code></pre>"},{"location":"hover/#_1","title":"\u7f51\u683c\u60ac\u505c","text":"<p>Demo\u622a\u56fe</p> <p></p> <p>\u53ef\u4ee5\u770b\u5230\u56fe\u7247\u4e2d\u60ac\u505c\u7684item\u6bd4\u666e\u901a\u7684item\u8981\u5bbd\u4e24\u500d, \u8fd9\u91cc\u9700\u8981\u786e\u5b9a\u60ac\u505c\u7684Item\u7684\u52a8\u6001<code>SpanSize</code>, \u6240\u4ee5\u4e0d\u80fd\u76f4\u63a5\u4f7f\u7528<code>grid(3)</code>\u800c\u662f\u9700\u8981\u624b\u52a8\u521b\u5efa<code>HoverGridLayoutManager</code></p> <pre><code>val layoutManager = HoverGridLayoutManager(requireContext(), 2)\nlayoutManager.spanSizeLookup = object : GridLayoutManager.SpanSizeLookup() {\noverride fun getSpanSize(position: Int): Int {\nreturn if(rv.bindingAdapter.isHover(position)) 2 else 1 // \u5177\u4f53\u7684\u4e1a\u52a1\u903b\u8f91\u7531\u4f60\u786e\u5b9a\n}\n}\nrv.layoutManager = layoutManager\n</code></pre>"},{"location":"issues/","title":"Issues","text":""},{"location":"issues/#_1","title":"\u5e38\u89c1\u95ee\u9898","text":"<ul> <li>java \u4e0a\u53ef\u4ee5\u7528\u5417?</li> <li>\u7531dataclass\u5bfc\u81f4\u7684\u5206\u7ec4\u6298\u53e0\u5d29\u6e83</li> <li>\u9002\u914dViewBinding</li> <li>\u9002\u914dPaging3</li> <li>\u5220\u9664Item\u5931\u8d25</li> <li>\u5feb\u901f\u5237\u65b0\u5217\u8868\u70b9\u51fb\u5931\u6548</li> <li>\u652f\u6301DiffUtil\u66f4\u65b0\u5217\u8868</li> <li>\u7f16\u8bd1SmartRefreshLayout\u4f9d\u8d56\u5931\u8d25</li> <li>onViewAttachedToWindow/onViewDetachedFromWindow\u7b49\u56de\u8c03\u5b9e\u73b0</li> <li>\u5982\u679c\u4f7f\u7528Filter\u8fc7\u6ee4\u6570\u636e</li> <li>\u5982\u4f55\u5faa\u73af\u6ed1\u52a8\u5217\u8868</li> <li>\u540c\u65f6\u652f\u6301\u5217\u8868\u4e0a\u4e0b\u5206\u9875\u9884\u52a0\u8f7d</li> <li>CoordinatorLayout\u663e\u793a\u7f3a\u7701\u9875\u540e\u65e0\u6cd5\u6b63\u5e38\u6ed1\u52a8</li> <li>\u4e0b\u62c9\u5237\u65b0\u4fdd\u6301\u9009\u4e2d\u72b6\u6001</li> <li>\u4e0a\u62c9\u52a0\u8f7d\u591a\u8bed\u8a00\u7684\u95ee\u9898</li> <li>\u7b2c\u4e00\u9875\u52a0\u8f7d\u9879\u6ca1\u6709\u5360\u6ee1\u6574\u4e2a\u9875\u9762\u65f6\uff0c\u81ea\u52a8\u52a0\u8f7d\u7b2c\u4e8c\u9875</li> <li>\u4e0a\u62c9\u52a0\u8f7d\u65f6\u4f1a\u628a\u9876\u90e8\u5e03\u5c40\u9876\u51fa\u53bb</li> <li>\u8bf7\u6559\u4fa7\u6ed1\u80cc\u666f\u5b9e\u73b0\u601d\u8def</li> </ul>"},{"location":"item/","title":"Data Interfaces","text":"<p>The data for the RecyclerView is a collection of <code>List&lt;Any?&gt;?</code>, where the collection elements are data models.</p> <p>By having the data models implement different interfaces, you can obtain different functionalities or callbacks.</p> Interface Description ItemBind Callback in the data model's <code>onBindViewHolder</code> lifecycle, used for data binding. ItemAttached Listens to the view being attached to the window. ItemExpand Indicates that the item can be grouped. ItemDrag Indicates that the item can be dragged. ItemSwipe Indicates that the item can be swiped. ItemHover Indicates that the item can be hovered. ItemPosition Represents the index position of the item. <p>Please refer to the corresponding feature sections or comments for specific usage.</p> <pre><code>data class SimpleModel(var name: String = \"BRV\") : ItemBind {\n\noverride fun onBind(holder: BindingAdapter.BindingViewHolder) {\n// Use different methods to access the view components\n// holder.findView&lt;TextView&gt;(R.id.tv_simple).text = appName // Using findById\n// val binding = holder.getBinding&lt;ItemMultiTypeOneBinding&gt;() // Using DataBinding or ViewBinding\n}\n}\n</code></pre>"},{"location":"lifecycle/","title":"Lifecycle","text":""},{"location":"lifecycle/#_1","title":"\u751f\u547d\u5468\u671f","text":"<p>\u9996\u5148\u8981\u77e5\u9053\u7684RecyclerView(\u4ee5\u4e0b\u7b80\u79f0rv)\u7684\u57fa\u7840\u77e5\u8bc6</p> <ol> <li>onCreateViewHolder (\u521b\u5efa\u89c6\u56fe) \u8c03\u7528\u6b21\u6570\u4e3a\u5c4f\u5e55\u540c\u65f6\u53ef\u5c55\u793a\u7684Item\u6570\u91cf, \u5bf9\u89c6\u56fe\u7684\u9891\u7e41\u64cd\u4f5c\u4f18\u5148\u8003\u8651\u6b64\u56de\u8c03\u4e2d\u8fdb\u884c!</li> <li>onBindViewHolder (\u7ed1\u5b9a\u6570\u636e) \u5728\u6bcf\u6b21Item\u88ab\u663e\u793a\u5230\u5c4f\u5e55\u4e0a\u65f6\u56de\u8c03, \u6545\u4f1a\u5728\u5feb\u901f\u6ed1\u52a8\u5217\u8868\u7684\u65f6\u5019\u53cd\u590d\u8c03\u7528! \u5efa\u8bae\u4e0d\u8981\u5728\u91cc\u9762\u8fdb\u884c\u8017\u65f6\u64cd\u4f5c  \u6bd4\u5982\u5efa\u8bae\u4f7f\u7528Serialze\u53d6\u4ee3SharePreference\u7b49\u8017\u65f6\u5b58\u50a8</li> </ol> <p> \u800c\u5728BRV\u4e2d\u7b80\u5316\u4e86\u8fd9\u4e24\u4e2a\u51fd\u6570</p> \u51fd\u6570 \u63cf\u8ff0 onCreate \u5bf9\u5e94Adapter\u7684<code>onCreateViewHolder</code>\u51fd\u6570\u56de\u8c03 onBind \u5bf9\u5e94Adapter\u7684<code>onBindViewHolder</code>\u51fd\u6570\u56de\u8c03 onBindViewHolders \u4e00\u4e2a<code>onBindViewHolder</code>\u76d1\u542c\u5668\u7684\u96c6\u5408, \u4e00\u822c\u7528\u4e8e\u5176\u4ed6\u6846\u67b6\u6765\u76d1\u542c\u6269\u5c55, \u4f7f\u7528\u8005\u4e00\u822c\u4e0d\u9700\u8981\u4f7f\u7528"},{"location":"lifecycle/#_2","title":"\u6ce8\u610f","text":"<p>BindingAdapter\u662f<code>open class</code> \u53ef\u4ee5\u88ab\u7ee7\u627f\u91cd\u5199, \u4efb\u4f55\u6ca1\u6709\u63d0\u4f9b\u7684\u51fd\u6570\u56de\u8c03\u53ef\u4ee5\u901a\u8fc7\u7ee7\u627f\u6216\u8005\u533f\u540d\u7c7b\u5b9e\u73b0 </p> <pre><code>binding.rv.linear().adapter = object : BindingAdapter() {\noverride fun onViewRecycled(holder: BindingViewHolder) {\nsuper.onViewRecycled(holder)\n// ....\n}\n}.apply {\naddType&lt;SimpleModel&gt;(R.layout.item_simple)\nmodels = getData()\n}\n</code></pre> <p>onBind\u6216onCreate\u53ea\u6709\u6700\u540e\u8bbe\u7f6e\u7684\u6709\u6548, \u5b58\u5728\u8986\u76d6\u5173\u7cfb</p> <pre><code>rv.linear().setup {\naddType&lt;SimpleModel&gt;(R.layout.item_simple)\nonCreate {\nwhen(itemViewType){\nR.layout.item_simple -&gt; {\n// \u7279\u6b8a\u5904\u7406\n}\n}\n}\n}.models = getData()\n</code></pre>"},{"location":"lifecycle/#_3","title":"\u663e\u793a/\u9690\u85cf","text":"<p>\u901a\u8fc7\u8ba9\u6570\u636e\u6a21\u578b\u5b9e\u73b0<code>ItemAttached</code>\u53ef\u4ee5\u611f\u77e5item\u663e\u793a/\u9690\u85cf, \u6bd4\u5982item\u7684\u52a8\u753b\u5c31\u662f\u76d1\u542citem\u663e\u793a\u65f6\u89e6\u53d1\u7684</p> <pre><code>data class SimpleModel(var name: String = \"BRV\") : ItemAttached {\n\nvar visibility: Boolean = false // \u663e\u793a\u9690\u85cf\n\noverride fun onViewAttachedToWindow(holder: BindingAdapter.BindingViewHolder) {\nvisibility = true\n}\n\noverride fun onViewDetachedFromWindow(holder: BindingAdapter.BindingViewHolder) {\nvisibility = false\n}\n\n}\n</code></pre> <p>\u5f53\u7136\u4f60\u76f4\u63a5\u7ee7\u627fBindingAdapter\u4e5f\u53ef\u4ee5\u5b9e\u73b0</p>"},{"location":"multi-type/","title":"Multi-type","text":"<p>\u5728BRV\u4e2d\u521b\u5efa\u591a\u7c7b\u578b\u975e\u5e38\u7b80\u5355, \u901a\u8fc7\u591a\u6b21\u8c03\u7528<code>addType()</code>\u6765\u6dfb\u52a0\u591a\u4e2a\u7c7b\u578b\u5373\u53ef</p>"},{"location":"multi-type/#_1","title":"\u6dfb\u52a0\u591a\u7c7b\u578b","text":""},{"location":"multi-type/#_2","title":"\u591a\u5bf9\u591a","text":"<p>\u5373\u5217\u8868\u6570\u636e\u96c6\u5408\u4e2d\u7684\u6bcf\u4e2a\u6570\u636e\u7c7b\u578b\u90fd\u5bf9\u5e94\u4e00\u4e2aItem\u7c7b\u578b</p> <pre><code>rv.linear().setup {\n\naddType&lt;Model&gt;(R.layout.item_1)\naddType&lt;Store&gt;(R.layout.item_2)\n\n}.models = data\n</code></pre>"},{"location":"multi-type/#_3","title":"\u4e00\u5bf9\u591a","text":"<p>\u5373\u5217\u8868\u6570\u636e\u96c6\u5408\u4e2d\u6570\u636e\u7c7b\u578b\u90fd\u662f\u4e00\u6837, \u4f46\u662f\u6839\u636e\u6570\u636e\u7c7b\u4e2d\u7684\u67d0\u4e2a\u5b57\u6bb5\u4e0d\u540c\u6765\u6dfb\u52a0\u4e0d\u540cItem\u7c7b\u578b</p> <p><pre><code>rv.linear().setup {\n\naddType&lt;Model&gt;{\n// \u4f7f\u7528\u5e74\u9f84\u6765\u4f5c\u4e3a\u5224\u65ad\u8fd4\u56de\u4e0d\u540c\u7684\u5e03\u5c40\nwhen (age) {\n23 -&gt; {\nR.layout.item_1\n}\nelse -&gt; {\nR.layout.item_2\n}\n}\n}\n\n}.models = data\n</code></pre> \u5f53\u524d<code>addType</code>\u7684\u5927\u62ec\u53f7\u5185\u7684<code>this</code>\u5c31\u662f\u4f60\u6307\u5b9a\u7684\u6cdb\u578b, \u6240\u4ee5\u6211\u4eec\u76f4\u63a5\u901a\u8fc7<code>Model.age</code>\u6765\u5224\u65ad\u8fd4\u56de\u4e0d\u540c\u7684\u591a\u7c7b\u578b</p>"},{"location":"multi-type/#_4","title":"\u63a5\u53e3\u5b9e\u73b0","text":"<p>\u63a5\u53e3\u7c7b\u578b\u662f\u53ef\u4ee5addType\u4e00\u4e2a\u7c7b\u578b, \u7136\u540e\u7531\u53ef\u4ee5\u6dfb\u52a0N\u4e2a\u5176\u5b50\u7c7b\u4f5c\u4e3amodels\u7684\u6570\u636e. \u63a5\u53e3\u5177\u4f53\u5b9e\u73b0\u7531\u4e0d\u540c\u7684\u5b50\u7c7b\u4e0d\u540c\u5b9e\u73b0</p> <p>\u793a\u4f8b</p> <pre><code>interface BaseInterfaceModel {\nvar text: String\n}\n\ndata class InterfaceModel1(override var text: String) : BaseInterfaceModel\n\ndata class InterfaceModel2(val otherData: Int, override var text: String) : BaseInterfaceModel\n\ndata class InterfaceModel3(val otherText: String) : BaseInterfaceModel {\noverride var text: String = otherText\n}\n</code></pre> <p>\u6784\u5efa\u793a\u4f8b\u6570\u636e</p> <pre><code>private fun getData(): List&lt;Any&gt; {\n// \u5728Model\u4e2d\u4e5f\u53ef\u4ee5\u7ed1\u5b9a\u6570\u636e\nreturn List(3) { InterfaceModel1(\"item $it\") } +\nList(3) { InterfaceModel2(it, \"item ${3 + it}\") } +\nList(3) { InterfaceModel3(\"item ${6 + it}\") }\n}\n</code></pre> <p>\u58f0\u660e\u5217\u8868</p> <pre><code> binding.rv.linear().setup {\naddType&lt;BaseInterfaceModel&gt;(R.layout.item_interface_type)\nR.id.item.onClick {\ntoast(\"\u70b9\u51fb\u6587\u672c\")\n}\n}.models = getData()\n</code></pre> <p>\u8fd9\u91cc\u53ea\u662f\u6f14\u793a\u7b80\u5355\u7684\u6587\u672c, \u5177\u4f53\u53ef\u4ee5\u7f16\u5199\u66f4\u52a0\u590d\u6742\u7684\u4e1a\u52a1\u903b\u8f91</p>"},{"location":"multi-type/#_5","title":"\u533a\u5206\u7c7b\u578b","text":"<p>\u4e0a\u9762\u7ae0\u8282\u63d0\u5230\u6bcf\u4e2aItem\u7c7b\u578b\u7684\u6570\u636e\u7c7b\u578b, \u6240\u4ee5\u6211\u4eec\u53d6\u6570\u636e\u7c7b\u6765\u8fdb\u884c\u4e1a\u52a1\u903b\u8f91\u65f6\u9700\u8981\u6839\u636e\u4e0d\u540c\u7c7b\u578b\u505a\u4e0d\u540c\u5904\u7406</p> <p>\u6839\u636e<code>itemViewType</code>\u533a\u5206\u7c7b\u578b</p> <pre><code>rv.linear().setup {\naddType&lt;SimpleModel&gt;(R.layout.item_simple)\naddType&lt;ItemSimpleBinding2&gt;(R.layout.item_simple)\nonBind {\nwhen(itemViewType) {\nR.layout.item_simple -&gt; {\ngetBinding&lt;ItemSimpleBinding&gt;().tvName.text = \"\u6587\u672c\u5185\u5bb9\"\n}\nR.layout.item_simple_2 -&gt; {\ngetBinding&lt;ItemSimpleBinding2&gt;().tvName.text = \"\u7c7b\u578b2-\u6587\u672c\u5185\u5bb9\"\n}\n}\n}\n}.models = getData()\n</code></pre> <p>\u6839\u636e<code>getBinding()</code>\u533a\u5206\u7c7b\u578b <pre><code>rv.linear().setup {\naddType&lt;SimpleModel&gt;(R.layout.item_simple)\naddType&lt;ItemComplexBinding&gt;(R.layout.item_simple)\nonBind {\nwhen (val viewBinding = getBinding&lt;ViewBinding&gt;()) {\nis ItemSimpleBinding -&gt; {\nviewBinding.tvName.text = \"\u6587\u672c\u5185\u5bb9\"\n}\nis ItemComplexBinding -&gt; {\nviewBinding.tvName.text = \"\u7c7b\u578b2-\u6587\u672c\u5185\u5bb9\"\n}\n}\n}\n}.models = getData()\n</code></pre></p> <p>\u6839\u636e<code>getModel()</code>\u533a\u5206\u7c7b\u578b <pre><code>rv.linear().setup {\naddType&lt;SimpleModel&gt;(R.layout.item_simple)\naddType&lt;ItemComplexBinding&gt;(R.layout.item_simple)\nonBind {\nwhen (val model = getModel&lt;Any&gt;()) {\nis ChatModel -&gt; {\nmodel.input = \"\u6d88\u606f\u5185\u5bb9\"\nmodel.notifyChange()\n}\nis CommentModel -&gt; {\nmodel.input = \"\u8bc4\u8bba\u5185\u5bb9\"\nmodel.notifyChange()\n}\n}\n}\n}.models = getData()\n</code></pre></p>"},{"location":"net/","title":"Network Requests","text":"<p>Net\u662f\u4e00\u4e2a\u7b2c\u4e09\u65b9\u7684\u5f3a\u5927\u7684\u7f51\u7edc\u8bf7\u6c42/\u5f02\u6b65\u4efb\u52a1\u6846\u67b6, \u975e\u5e38\u4f18\u79c0\u7684\u8bbe\u8ba1, BRV\u53ef\u4ee5\u548cNet\u8054\u52a8\u6269\u5c55\u529f\u80fd</p> <p>\u9996\u5148\u5f15\u7528Net\u4f9d\u8d56\u5e93</p> <p></p> <p><pre><code>dependencies {\nimplementation 'com.github.liangjingkanji:Net:+'\n}\n</code></pre> \u63a8\u8350\u4f7f\u7528\u6307\u5b9a\u7684\u7248\u672c\u53f7\u66ff\u6362<code>+</code></p> <p>\u914d\u5408Net\u6846\u67b6\u53ef\u4ee5\u5b9e\u73b0\u4ee5\u4e0b\u529f\u80fd</p> <ul> <li>\u81ea\u52a8\u4e0b\u62c9\u5237\u65b0</li> <li>\u81ea\u52a8\u5206\u9875\u52a0\u8f7d</li> <li>\u81ea\u52a8\u7f3a\u7701\u9875</li> </ul>"},{"location":"performance/","title":"Smooth Scrolling","text":"<p>\u9996\u5148\u5e0c\u671b\u4f60\u5df2\u7ecf\u9605\u8bfb\u8fc7rv\u57fa\u7840\u7684\u751f\u547d\u5468\u671f, \u6b63\u5e38\u60c5\u51b5\u4e0b\u5217\u8868\u5e76\u4e0d\u4f7f\u7528\u672c\u7ae0\u7684\u4f18\u5316\u65b9\u6cd5\u4e5f\u4e0d\u4f1a\u5361\u987f</p> <p>BRV\u5e76\u6ca1\u6709\u5bf9RecyclerView\u5b58\u5728\u5361\u987f\u5f71\u54cd, \u8fd9\u91cc\u4ecb\u7ecd\u7684\u90fd\u662fRecyclerView\u7684\u4f18\u5316\u70b9, \u672a\u63d0\u53ca\u7684\u8bf7\u81ea\u884c\u641c\u7d22\u6216\u8865\u5145</p> <p>\u6027\u80fd\u4f18\u5316\u4e3b\u8981\u662f\u907f\u514d\u6ed1\u52a8\u5217\u8868\u65f6\u9891\u7e41\u8017\u65f6\u64cd\u4f5c, \u800conBind\u5c31\u662f\u6ed1\u52a8\u5217\u8868\u8fc7\u7a0b\u4e2d\u9891\u7e41\u89e6\u53d1\u7684\u56de\u8c03</p>"},{"location":"performance/#_1","title":"\u4e3b\u7ebf\u7a0b\u8bfb\u5199\u6570\u636e","text":"<p>SharePreference(\u7b80\u79f0sp)\u662fAndroid\u81ea\u5e26\u7684\u952e\u503c\u5b58\u50a8\u5de5\u5177, \u867d\u7136\u5141\u8bb8\u65b9\u4fbf\u5730\u5728\u4e3b\u7ebf\u7a0b\u8bfb\u5199\u672c\u5730\u6570\u636e\u4f46\u662f\u6027\u80fd\u582a\u5fe7  \u5982\u679c\u4f60\u5728onBind\u91cc\u9762\u8bfb\u53d6\u4f53\u79ef\u8f83\u5927\u7684sp\u4f1a\u5bfc\u81f4\u5217\u8868\u5361\u987f\u751a\u81f3\u5f15\u8d77\u5e94\u7528ANR</p> <p>\u7f51\u4e0a\u53ef\u80fd\u5927\u90e8\u5206\u63a8\u8350\u4f7f\u7528MMKV\u6765\u53d6\u4ee3, \u4f46\u6211\u63a8\u8350\u57fa\u4e8eMMKV\u5c01\u88c5\u7684\u66f4\u9ad8\u6548/\u65b9\u4fbf\u7684Serialze\u6765\u53d6\u4ee3</p>"},{"location":"performance/#_2","title":"\u5d4c\u5957\u5217\u8868","text":"<p>\u5728\u4f7f\u7528rv\u5d4c\u5957rv\u65f6\u5e94\u5f53\u5728onCreate\u56de\u8c03\u4e2d\u4e3a\u5185\u5d4c\u7684rv\u8bbe\u7f6e\u89c6\u56fe(\u4f7f\u7528<code>rv.setup</code>), \u8fd9\u662f\u4e3a\u4e86\u907f\u514d\u540c\u4e00\u7c7b\u578b\u53cd\u590d\u521b\u5efarv\u5bfc\u81f4\u5185\u5b58\u6d88\u8017.  \u800c\u5d4c\u5957\u7684rv\u6570\u636e\u53ef\u4ee5\u5728onBind\u4e2d\u7ed1\u5b9a\u6570\u636e, \u4f7f\u7528<code>rv.models</code></p> <pre><code>rv.linear().setup {\naddType&lt;SimpleModel&gt;(R.layout.item_simple)\n\nonCreate {\nval rv = findView&lt;RecyclerView&gt;(R.id.rv_check_mode)\nrv.linear().setup { // \u89c6\u56fe\u5728onCreate\u53ef\u4ee5\u907f\u514d\u5217\u8868\u6ed1\u52a8\u8fc7\u7a0b\u53cd\u590d\u56de\u8c03\naddType&lt;NestedModel&gt;(R.layout.item_simple_nested)\n}\n}\n\nonBind {\nval rv  = findView&lt;RecyclerView&gt;(R.id.rv_check_mode)\nrv.models = getModel&lt;Model&gt;().listNested // \u53ea\u6709onBind\u624d\u80fd\u83b7\u53d6\u5230\u6570\u636e\n}\n}\n</code></pre> <p>\u7531\u4e8e\u88ab\u5d4c\u5957\u7684rv\u662f\u65e0\u6cd5\u590d\u7528item, \u6240\u4ee5\u5efa\u8bae\u4f7f\u7528recycledViewPool\u6765\u590d\u7528, \u5177\u4f53\u8bf7\u641c\u7d22\u5173\u952e\u8bcd</p> <p>\u5982\u679c\u88ab\u5d4c\u5957\u7684\u5217\u8868\u975e\u5e38\u7b80\u5355\u5176\u5b9e\u4e5f\u65e0\u9700\u8003\u8651\u5176\u590d\u7528\u4f18\u5316, \u751a\u81f3\u4f60\u76f4\u63a5\u4f7f\u7528addView\u52a8\u6001\u6dfb\u52a0\u53ef\u80fd\u4f1a\u6bd4\u5d4c\u5957\u5217\u8868\u66f4\u7b80\u5355</p>"},{"location":"performance/#_3","title":"\u89c6\u56fe\u6dfb\u52a0/\u5220\u9664","text":"<p>\u8981\u907f\u514d\u9891\u7e41\u64cd\u4f5c\u4e3b\u7ebf\u7a0b\u8017\u65f6\u7684\u89c6\u56feaddView/removeView\u7b49\u64cd\u4f5c</p> <ol> <li>\u5efa\u8bae\u4f7f\u7528visibility\u63a7\u5236\u89c6\u56fe\u663e\u793a\u6216\u9690\u85cf</li> <li>\u5224\u65ad\u6570\u636e\u907f\u514d\u53cd\u590daddView, \u89c6\u56fe\u5df2\u7ecfaddView\u60c5\u51b5\u4e0b\u8d4b\u503c\u800c\u4e0d\u662fremove</li> <li>\u5982\u679c\u53ea\u662f\u6dfb\u52a0\u56fe\u6807\u5efa\u8bae\u4f7f\u7528Spannable\u6784\u5efa\u56fe\u6587\u6df7\u6392\u76f4\u63a5\u8d4b\u503c\u7ed9TextView</li> </ol>"},{"location":"performance/#_4","title":"\u9ad8\u901f\u6ed1\u52a8\u8282\u6d41","text":"<p>\u5b9e\u73b0\u539f\u7406\u5f88\u50cf\u81ea\u52a8\u641c\u7d22\u8282\u6d41, \u5ef6\u8fdf\u5230\u4e00\u5b9a\u65f6\u95f4\u540eitem\u4f9d\u7136\u663e\u793a\u5728\u5c4f\u5e55\u4e4b\u4e0a\u624d\u52a0\u8f7d\u6570\u636e, \u56e0\u4e3a\u9ad8\u901f\u6ed1\u52a8\u5217\u8868\u53ef\u80fd\u5927\u90e8\u5206item\u53ea\u4f1a\u505c\u7559\u5728\u5c4f\u5e55\u5f88\u77ed\u65f6\u95f4\u5e76\u4e0d\u9700\u8981\u52a0\u8f7d\u6570\u636e</p> <pre><code>data class SimpleModel(var name: String = \"BRV\") : ItemBind, ItemAttached {\n\nprivate var itemVisible: Boolean = false\n\noverride fun onViewAttachedToWindow(holder: BindingAdapter.BindingViewHolder) {\nitemVisible = true\n}\n\noverride fun onViewDetachedFromWindow(holder: BindingAdapter.BindingViewHolder) {\nitemVisible = false\n}\n\noverride fun onBind(holder: BindingAdapter.BindingViewHolder) {\nholder.itemView.postDelayed({\nif (itemVisible) {\n// 500ms \u4ee5\u540e\u4f9d\u7136\u53ef\u89c1\u624d\u4f1a\u89e6\u53d1\u52a0\u8f7d\n}\n}, 500)\n}\n\n}\n</code></pre> <p>\u5982\u679c\u4f60\u4f7f\u7528\u7684Glide\u4f60\u8fd8\u53ef\u4ee5\u9605\u8bfbRecyclerView\u9884\u52a0\u8f7d\u56fe\u7247, \u53ef\u4ee5\u663e\u8457\u51cf\u5c11\u7528\u6237\u6ed1\u52a8\u56fe\u7247\u5217\u8868\u65f6\u770b\u5230\u7684\u52a0\u8f7d\u4e2d\u6570\u91cf</p>"},{"location":"performance/#_5","title":"\u56fa\u5b9a\u5e03\u5c40\u4f18\u5316","text":"<p>\u5982\u679c\u5217\u8868\u6240\u6709item\u7684\u5bbd\u9ad8\u4e0d\u4f1a\u56e0\u4e3a\u9002\u914d\u5668(Adapter)\u52a8\u6001\u6539\u53d8, \u90a3\u4e48\u53ef\u4ee5\u4f7f\u7528<code>setHasFixedSize(true)</code>\u6765\u51cf\u5c11\u6d4b\u7ed8\u6b21\u6570\u63d0\u9ad8\u6027\u80fd</p>"},{"location":"performance/#_6","title":"\u5217\u8868\u552f\u4e00\u6807\u8bc6","text":"<p>\u901a\u8fc7\u4e3aitem\u914d\u7f6e\u552f\u4e00ID\u63d0\u9ad8\u5217\u8868\u4f7f\u7528<code>notifyDataSetChanged()</code>\u65f6\u7684\u6392\u5e8f\u6027\u80fd</p> <pre><code>binding.rv.linear().setup {\nsetHasStableIds(true) // \u542f\u7528\u552f\u4e00ID\naddType&lt;UserModel&gt;(R.layout.item_user)\n}.models = getData()\n</code></pre> <p>\u6570\u636e\u6a21\u578b\u5b9e\u73b0<code>ItemStableId</code></p> <pre><code>data class UserModel(var userId: Long) : ItemStableId {\n\noverride fun getItemId(): Long {\nreturn userId // \u8fd4\u56de\u5217\u8868\u4e2d\u552f\u4e00ID\n}\n}\n</code></pre>"},{"location":"preload/","title":"Preload","text":"<p><code>\u9884\u52a0\u8f7d</code>\u5c31\u662f\u8fd8\u6ca1\u663e\u793a\u5230\u5217\u8868\u672b\u5c3e\u5c31\u4f1a\u5f00\u59cb\u52a0\u8f7d\u4e0b\u4e00\u9875, \u6267\u884c\u4e0a\u62c9\u52a0\u8f7d\u7684\u903b\u8f91, \u524d\u63d0\u662f\u5f53\u524d\u5217\u8868\u6709\u4e0b\u4e00\u9875</p> <p><code>\u9884\u62c9\u53d6</code>\u5c31\u662f\u63d0\u524d\u62c9\u53d6. \u548c\u4e0a\u9762\u9884\u52a0\u8f7d\u5dee\u4e0d\u591a\u7406\u89e3. \u4e0d\u77e5\u9053\u62c9\u53d6\u662f\u4ec0\u4e48\u8bf7\u9605\u8bfb\u62c9\u53d6\u66f4\u591a</p>"},{"location":"preload/#_1","title":"\u5f53\u524d\u5217\u8868\u9884\u52a0\u8f7d\u7d22\u5f15","text":"<p>BRV\u9ed8\u8ba4\u5f00\u542f\u9884\u52a0\u8f7d/\u9884\u62c9\u53d6. \u901a\u8fc7\u51fd\u6570\u53ef\u4ee5\u6307\u5b9a\u6210\u5458\u5c5e\u6027<code>preloadIndex</code>\u53ef\u4ee5\u63a7\u5236\u663e\u793a\u5230\u5012\u6570\u7b2c\u51e0\u4e2a\u6761\u76ee\u65f6\u5c31\u5f00\u59cb\u9884\u52a0\u8f7d</p> <p>\u9884\u62c9\u53d6\u548c\u9884\u52a0\u8f7d\u6761\u4ef6\u90fd\u662f\u4f7f\u7528\u7684\u540c\u4e00\u4e2a\u5b57\u6bb5. \u8bbe\u7f6epreloadIndex\u540e\u4e24\u8005\u90fd\u4f1a\u751f\u6548</p> <p>\u9ed8\u8ba4\u503c\u662f: 3</p> <pre><code>var preloadIndex = 3\n</code></pre>"},{"location":"preload/#_2","title":"\u5168\u5c40\u9884\u52a0\u8f7d\u7d22\u5f15","text":"<p>\u901a\u8fc7<code>PageRefreshLayout.preloadIndex</code>\u53ef\u4ee5\u8bbe\u7f6e\u5168\u5c40\u9ed8\u8ba4\u503c. \u8fd9\u6837\u6240\u6709\u5217\u8868\u90fd\u9ed8\u8ba4\u5c31\u662f\u4f60\u6307\u5b9a\u7684\u7d22\u5f15\u5f00\u59cb\u9884\u52a0\u8f7d</p>"},{"location":"recycle/","title":"Recycle List","text":"<p>\u56e0\u4e3aBRV\u5e76\u4e0d\u9700\u8981\u521b\u5efaAdapter, \u6240\u4ee5\u5f88\u591a\u4eba\u53ef\u80fd\u4e0d\u77e5\u9053\u5982\u4f55\u590d\u7528\u76f8\u4f3c\u5217\u8868. \u5b9e\u9645\u4e0a\u66f4\u52a0\u7b80\u5355</p> <p>\u9996\u5148\u6839\u636e\u8bf7\u4f60\u4e86\u89e3BRV\u4e09\u79cd\u7ed1\u5b9a\u6570\u636e\u7684\u65b9\u5f0f</p>"},{"location":"recycle/#databinding","title":"\u4f7f\u7528DataBinding","text":"<p>\u5982\u679c\u4f60\u4f7f\u7528DataBinding\u90a3\u4e48\u5c31\u66f4\u597d\u5b9e\u73b0\u4e86. DataBinding\u7684\u4e1a\u52a1\u903b\u8f91\u90fd\u5728Model\u4e2d,  \u89c6\u56fe\u90fd\u5728XML\u6587\u4ef6\u4e2d. \u5982\u679cUI\u6216\u8005\u4e1a\u52a1\u76f8\u540c\u4f60\u6ce8\u518c\u540c\u6837\u7684\u7c7b\u548cXML\u6587\u4ef6\u5373\u53ef</p> <pre><code>// \u5217\u8868 1\nrv.linear().setup {\naddType&lt;Model&gt;(R.layout.item_simple)\n}.models = getData()\n\n// \u5217\u88682\nrv2.linear().setup {\naddType&lt;Model&gt;(R.layout.item_simple)\n}.models = getData()\n</code></pre> <p></p>"},{"location":"recycle/#_1","title":"\u6570\u636e\u6a21\u578b\u5dee\u5f02","text":"<p>\u5982\u679c\u6570\u636e\u6a21\u578b\u4e0d\u4e00\u6837, \u4f46\u662fXML\u4e00\u6837. \u4f60\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u4e24\u79cd\u65b9\u5f0f </p> <ol> <li>\u5c06\u591a\u4e2a\u7c7b\u5305\u88c5\u5230\u4e00\u4e2a\u7c7b\u5bf9\u8c61\u4e2d\u4f5c\u4e3a\u5217\u8868\u6570\u636e(\u4e07\u7269\u7686\u5bf9\u8c61)     <pre><code>class ComposeModel(var model: Model, var model2: Model2)\n\nrv.linear().setup {\naddType&lt;ComposeModel&gt;(R.layout.item_simple)\n}.models = getData()\n</code></pre></li> <li>\u591a\u4e2a\u7c7b\u5b9e\u73b0\u6307\u5b9a\u63a5\u53e3: \u63a5\u53e3\u7c7b\u578b <pre><code>interface ModelImpl {\nvar text: String = defaultText // \u66b4\u9732\u4f7f\u7528\u51fd\u6570\n}\nclass Model():ModelImpl {\noverride var text: String = otherText\n}\nclass Model2():ModelImpl {\noverride var text: String = otherText\n}\n\nrv.linear().setup {\naddType&lt;ModelImpl&gt;(R.layout.item_simple)\n}.models = getData()\n</code></pre></li> </ol>"},{"location":"recycle/#itembind","title":"\u5b9e\u73b0ItemBind\u63a5\u53e3","text":"<p>\u8fd9\u79cd\u6570\u636e\u7ed1\u5b9a\u5f62\u5f0f\u4e1a\u52a1\u548cUI\u90fd\u5728\u4e00\u4e2a\u51fd\u6570\u4e2d\u5b9e\u73b0, \u6240\u4ee5\u4f60\u91cd\u590d\u4f7f\u7528\u8fd9\u4e2a\u6570\u636e\u6a21\u578b\u96c6\u5408, \u5982\u679cUI\u76f8\u540c\u4f46\u662f\u6570\u636e\u6709\u5dee\u5f02\u53c2\u8003\u4e0a\u9762\u5305\u88c5\u6570\u636e\u6a21\u578b</p> <pre><code>class SimpleModel(var name: String = \"BRV\") : ItemBind {\n\noverride fun onBind(holder: BindingAdapter.BindingViewHolder) {\nval appName = holder.context.getString(R.string.app_name)\nholder.findView&lt;TextView&gt;(R.id.tv_simple).text = appName + itemPosition\n}\n}\n</code></pre> <pre><code>// \u5217\u8868 1\nrv.linear().setup {\naddType&lt;SimpleModel&gt;(R.layout.item_simple)\n}.models = getData()\n\n// \u5217\u88682\nrv2.linear().setup {\naddType&lt;SimpleModel&gt;(R.layout.item_simple2)\n}.models = getData()\n</code></pre>"},{"location":"recycle/#onbind","title":"\u4f7f\u7528onBind","text":"<p>\u4ee5\u4e0b\u8fd9\u79cd\u5f62\u5f0f\u4e0d\u592a\u65b9\u4fbf\u590d\u7528. \u672c\u8eab\u4e5f\u53ea\u662f\u56fe\u65b9\u4fbf\u5e76\u4e0d\u662f\u5f88\u63a8\u8350\u5927\u91cf\u903b\u8f91\u573a\u666f\u4e0b\u4f7f\u7528. \u8fd9\u4e2a\u4f60\u8981\u590d\u5236\u5c31\u4f7f\u7528\u590d\u5236\u7c98\u8d34\u5427....</p> <pre><code>rv.linear().setup {\naddType&lt;SimpleModel&gt;(R.layout.item_simple)\nonBind {\nfindView&lt;TextView&gt;(R.id.tv_simple).text = getModel&lt;SimpleModel&gt;().name\n}\n}.models = getData()\n</code></pre>"},{"location":"recycle/#_2","title":"\u6269\u5c55\u51fd\u6570","text":"<p>\u5b8c\u6574\u590d\u7528\u6784\u5efa\u5217\u8868\u4ee3\u7801\u53ef\u4ee5\u76f4\u63a5\u5c01\u88c5\u4e3aKt\u6269\u5c55\u51fd\u6570</p> <pre><code>/**\n * \u4f7f\u7528\n */\nviewBinding.rv1.setupNews{ }.models = listOf&lt;News1Module&gt;()\n\nval adapter = viewBinding.rv2.setupNews{ }\nadapter.models = listOf&lt;News1Module&gt;()\n\n/**\n * adapter ?\n */\nfun &lt;T : INews&gt; RecyclerView.setupNews(onItemContainerClick: (T) -&gt; Unit = {}): BindingAdapter =\nlinear()\n.divider(R.drawable.item_news_rv_divider)\n.setup {\naddType&lt;INews&gt;(R.layout.item_standard_news)\nonBind {\n\n}\nR.id.v_container.onClick { onItemContainerClick.invoke(getModel&lt;T&gt;()) }\n}\n\n/**\n * \u5b9a\u4e49\u63a5\u53e3\n */\ninterface INews {\nval title: String\nval image: String\nval content: String\nval url: String\nval date: String\nval time: String\n}\n\n/**\n * \u5b9e\u4f53\u7c7b 1\n */\ndata class News1Module(\nval news1Field: String,\noverride val title: String,\noverride val image: String,\noverride val content: String,\noverride val url: String,\noverride val date: String,\noverride val time: String\n) : INews\n\n/**\n * \u5b9e\u4f53\u7c7b 2\n */\ndata class News2Module(\nval news2Field: String,\nval news2Field1: String,\nval news2Field2: String,\nval news2Field3: String,\nval news2Field4: String,\nval news2Field5: String,\n) : INews {\noverride val title: String\nget() = news2Field\noverride val image: String\nget() = news2Field1\noverride val content: String\nget() = news2Field2\noverride val url: String\nget() = news2Field3\noverride val date: String\nget() = news2Field4\noverride val time: String\nget() = news2Field5\n}\n</code></pre>"},{"location":"refresh-animate/","title":"Refresh Animation","text":"<p>\u4e0a\u4e00\u7ae0\u4ecb\u7ecd\u8fc7BRV\u5185\u5d4cSmartRefreshLayout\u6765\u5b9e\u73b0\u4e0b\u62c9\u5237\u65b0/\u4e0a\u62c9\u52a0\u8f7d, \u4ee5\u4e0b\u6f14\u793a\u81ea\u5b9a\u4e49\u5237\u65b0\u52a8\u753b</p>"},{"location":"refresh-animate/#_1","title":"\u5173\u95ed\u4e0a\u62c9\u52a0\u8f7d\u52a8\u753b","text":"<p>\u5173\u95ed\u52a8\u753b\u4ee5\u540e\u5e76\u4e0d\u4f1a\u5f71\u54cd\u539f\u6709\u7684\u9884\u52a0\u8f7d\u529f\u80fd</p> <p>\u5168\u5c40\u914d\u7f6e</p> <pre><code>SmartRefreshLayout.setDefaultRefreshFooterCreator { context, layout -&gt;\nlayout.setFooterHeight(0F)\nval classicsFooter = ClassicsFooter(context)\nclassicsFooter.visibility = View.GONE\nclassicsFooter\n}\n</code></pre> <p>\u5355\u4f8b\u914d\u7f6e, \u4fee\u6539xml\u5e03\u5c40, \u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\u4ee3\u7801\u4fee\u6539</p> <pre><code>&lt;com.drake.brv.PageRefreshLayout\nandroid:id=\"@+id/page\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\napp:srlFooterHeight=\"0dp\"&gt;\n\n&lt;androidx.recyclerview.widget.RecyclerView\nandroid:id=\"@+id/rv\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\napp:layoutManager=\"androidx.recyclerview.widget.LinearLayoutManager\" /&gt;\n\n&lt;com.scwang.smart.refresh.footer.ClassicsFooter\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"0dp\" /&gt;\n\n&lt;/com.drake.brv.PageRefreshLayout&gt;\n</code></pre>"},{"location":"refresh-animate/#_2","title":"\u81ea\u5b9a\u4e49\u5237\u65b0\u52a8\u753b","text":"<ul> <li>SmartRefreshLayout\u81ea\u5b9a\u4e49\u52a8\u753b\u6587\u6863</li> </ul> <p>SmartRefresh\u81ea\u5e267\u4e2a\u52a8\u753b\u4f9d\u8d56\u5e93\u53ef\u4ee5\u53c2\u8003/\u4fee\u6539\u6e90\u7801\u6216\u8005\u76f4\u63a5\u4f7f\u7528</p> <pre><code>implementation  'io.github.scwang90:refresh-header-classics:2.0.5'    //\u7ecf\u5178\u5237\u65b0\u5934\nimplementation  'io.github.scwang90:refresh-header-radar:2.0.5'       //\u96f7\u8fbe\u5237\u65b0\u5934\nimplementation  'io.github.scwang90:refresh-header-falsify:2.0.5'     //\u865a\u62df\u5237\u65b0\u5934\nimplementation  'io.github.scwang90:refresh-header-material:2.0.5'    //\u8c37\u6b4c\u5237\u65b0\u5934\nimplementation  'io.github.scwang90:refresh-header-two-level:2.0.5'   //\u4e8c\u7ea7\u5237\u65b0\u5934\nimplementation  'io.github.scwang90:refresh-footer-ball:2.0.5'        //\u7403\u8109\u51b2\u52a0\u8f7d\nimplementation  'io.github.scwang90:refresh-footer-classics:2.0.5'    //\u7ecf\u5178\u52a0\u8f7d\n</code></pre> <p>\u60f3\u8981\u4e86\u89e3\u66f4\u591a\u8bf7\u67e5\u770bSmartRefreshLayout\u4e3b\u9875</p> \u4e2a\u4eba\u9996\u9875 \u5fae\u535a\u5217\u8868 \u9910\u996e\u7f8e\u98df \u4e2a\u4eba\u4e2d\u5fc3 Delivery DropBox Refresh-your-delivery Dropbox-Refresh BezierRadar BezierCircle Pull To Refresh Pull Down To Refresh FlyRefresh Classics FlyRefresh ClassicsHeader Phoenix Taurus Yalantis/Phoenix Yalantis/Taurus BattleCity HitBlock FunGame/BattleCity FunGame/HitBlock WaveSwipe Material WaveSwipeRefreshLayout MaterialHeader StoreHouse WaterDrop CRefreshLayout WaterDrop"},{"location":"refresh-data/","title":"Data Refresh","text":"<p>BRV\u6ca1\u6709\u81ea\u5b9a\u4e49RecyclerView, \u6240\u4ee5RV\u5982\u4f55\u64cd\u4f5c\u6570\u636eBRV\u5c31\u5982\u4f55\u64cd\u4f5c\u6570\u636e. \u5bf9\u4e8eRV\u57fa\u7840\u4e0d\u4e86\u89e3\u7684\u53ef\u4ee5\u9605\u8bfb\u672c\u7ae0\u540e\u7f51\u4e0a\u641c\u7d22</p> <p>\u4f60\u8981\u77e5\u9053\u7684\u662fRV\u64cd\u4f5c\u6570\u636e\u9700\u8981\u4e24\u4e2a\u6b65\u9aa4</p> <ol> <li>\u66f4\u65b0\u96c6\u5408(\u5220\u9664\u6216\u8005\u6dfb\u52a0\u5143\u7d20)</li> <li>\u8c03\u7528\u5bf9\u5e94\u7684notify**()\u65b9\u6cd5\u66f4\u65b0\u5217\u8868</li> </ol> <p>\u4f46\u662fBRV\u7684<code>models/addData</code>\u8d4b\u503c\u4f1a\u81ea\u52a8notifyDataChanged(), \u65e0\u9700\u8c03\u7528\u66f4\u65b0\u5217\u8868. \u5982\u679c\u4e0d\u60f3\u81ea\u52a8\u66f4\u65b0\u5217\u8868\u53ef\u4ee5\u4f7f\u7528BindingAdapter\u7684<code>_data</code>\u5b57\u6bb5</p> <p>BRV\u7684\u6570\u636e\u96c6\u5408\u65e0\u8bba\u662f<code>models</code>\u6216<code>addData()</code>\u90fd\u662f\u6dfb\u52a0\u7684<code>List&lt;Any?&gt;(\u4efb\u610f\u5bf9\u8c61\u6570\u636e\u96c6\u5408)</code>. \u6240\u4ee5\u53ea\u8981\u662f\u4e00\u4e2a\u96c6\u5408\u5373\u53ef\u6620\u5c04\u51fa\u4e00\u4e2a\u5217\u8868  \u5982\u679c\u6570\u636e\u4e0d\u6ee1\u8db3\u4e00\u4e2a\u96c6\u5408\u6761\u4ef6(\u6216\u4efb\u4f55\u6570\u636e\u4e0a\u7684\u95ee\u9898), \u8bf7\u81ea\u5df1\u5904\u7406\u4e0b\u6570\u636e</p>"},{"location":"refresh-data/#_1","title":"\u6dfb\u52a0\u6570\u636e","text":"<p>\u4f7f\u7528BRV\u81ea\u5e26\u7684\u4e24\u4e2a\u65b9\u6cd5\u6dfb\u52a0\u6570\u636e\u4f1a\u81ea\u52a8\u5237\u65b0UI</p> <pre><code>rv.models = dataList // \u81ea\u52a8\u4f7f\u7528 notifyDataSetChanged\nrv.addModels(newDataList) // \u81ea\u52a8\u4f7f\u7528 notifyItemRangeInserted, \u5f53\u7136\u4e5f\u53ef\u4ee5\u7981\u6b62\u52a8\u753b\nbinding.rv.addModels(newDataList, index = 3) // \u5728\u7d22\u5f153\u540e\u9762\u6dfb\u52a0\u6570\u636e\n</code></pre> <p>\u4ee3\u7801\u793a\u4f8b <pre><code>binding.rv.linear().setup {\naddType&lt;SimpleModel&gt;(R.layout.item_simple)\nonBind {\nfindView&lt;TextView&gt;(R.id.tv_simple).text = getModel&lt;SimpleModel&gt;().name\n}\n}.models = getData()\n\nbinding.rv.addModels(data, index = 3) // \u6dfb\u52a0\u6570\u636e\nbinding.rv.models = newDataList // \u8986\u76d6\u539f\u6765\u7684\u5217\u8868\n</code></pre></p> <p>\u5207\u8bb0Java/Kotlin\u7684\u5f15\u7528\u7c7b\u578b\u662f\u4f20\u5740, \u5982\u679c\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u64cd\u4f5c\u7684\u6570\u636e\u96c6\u90fd\u662f\u540c\u4e00\u4e2a\u4f1a\u5bfc\u81f4\u95ee\u9898 - \u81ea\u5df1\u6dfb\u52a0\u81ea\u5df1.  \u8fd9\u79cd\u5c5e\u4e8e\u57fa\u672c\u7684\u8bed\u6cd5\u95ee\u9898</p>"},{"location":"refresh-data/#_2","title":"\u5220\u9664\u6570\u636e","text":"<p>BRV\u64cd\u4f5c\u6570\u636e\u548cRV\u6ca1\u6709\u4efb\u4f55\u533a\u522b(\u6bd5\u7adf\u53ea\u662f\u81ea\u5b9a\u4e49Adapter), \u5220\u9664\u5168\u90e8\u6570\u636e\u53ef\u4ee5\u4e3amodels\u8d4b\u503cnull</p> <p>\u5982\u679c\u5220\u9664\u6307\u5b9a\u6570\u636e, \u6bd4\u5982\u5220\u9664\u7b2c\u4e8c\u6761</p> <pre><code>rv.mutable.removeAt(2) // \u5148\u5220\u9664\u6570\u636e\nrv.bindingAdapter.notifyItemRemoved(2) // \u7136\u540e\u5237\u65b0\u5217\u8868\n</code></pre> <p>\u5982\u679c\u4f60\u5220\u9664N\u6761\u6216\u8005\u6dfb\u52a0/\u63d2\u5165N\u6761, \u8bf7\u8c03\u7528\u5bf9\u5e94\u7684<code>notifyItem**()</code>\u65b9\u6cd5, \u5177\u4f53\u65b9\u6cd5\u4f60\u53ef\u4ee5\u67e5\u770b\u672c\u7ae0\u672b\u5c3e\u6216\u8005\u7f51\u4e0a\u641c\u7d22</p>"},{"location":"refresh-data/#_3","title":"\u5bf9\u6bd4\u6570\u636e\u5237\u65b0","text":"<p>BRV\u53ef\u4ee5\u6839\u636e\u65b0\u7684\u6570\u636e\u96c6\u5408\u548c\u65e7\u7684\u6570\u636e\u96c6\u5408\u5bf9\u6bd4\u5224\u65ad\u6765\u81ea\u52a8\u4f7f\u7528\u5237\u65b0\u52a8\u753b</p> <pre><code>rv.setDifferModels(getRandomData())\n</code></pre> <p>\u8be5\u65b9\u6cd5\u5185\u90e8\u4f7f\u7528Android\u81ea\u5e26\u5de5\u5177<code>DiffUtil</code>\u8fdb\u884c\u6570\u636e\u5bf9\u6bd4\u5237\u65b0, \u4f46\u662f\u652f\u6301\u5f02\u6b65/\u540c\u6b65\u7ebf\u7a0b\u5bf9\u6bd4 <pre><code>fun setDifferModels(newModels: List&lt;Any?&gt;?, detectMoves: Boolean = true, commitCallback: Runnable? = null)\n</code></pre></p> <p>\u6570\u636e\u5bf9\u6bd4\u9ed8\u8ba4\u4f7f\u7528<code>equals</code>\u65b9\u6cd5\u5bf9\u6bd4, \u4f60\u53ef\u4ee5\u4e3a\u6570\u636e\u624b\u52a8\u5b9e\u73b0equals\u65b9\u6cd5\u6765\u4fee\u6539\u5bf9\u6bd4\u903b\u8f91. \u63a8\u8350\u5b9a\u4e49\u6570\u636e\u4e3a data class, \u56e0\u5176\u4f1a\u6839\u636e\u6784\u9020\u53c2\u6570\u81ea\u52a8\u751f\u6210equals</p> <p>\u5982\u679c\u9700\u8981\u5b8c\u5168\u81ea\u5b9a\u4e49\u5bf9\u6bd4\u6570\u636e\u7684\u5224\u65ad\u903b\u8f91\u5c31\u5b9e\u73b0<code>ItemDifferCallback</code>\u63a5\u53e3</p> <pre><code>rv.linear().setup {\naddType&lt;SimpleModel&gt;(R.layout.item_simple)\nitemDifferCallback = object : ItemDifferCallback {\noverride fun areContentsTheSame(oldItem: Any, newItem: Any): Boolean {\nreturn if (oldItem is SimpleModel &amp;&amp; newItem is SimpleModel) {\noldItem.name == newItem.name\n} else super.areContentsTheSame(oldItem, newItem)\n}\n}\n// ...\n}.models = getRandomData(true)\n</code></pre> <p>\u4f7f\u7528<code>setDifferModels</code>\u5bf9\u6bd4\u5237\u65b0\u65f6, \u76f8\u540citem\u5237\u65b0\u6709\u767d\u5c4f\u52a8\u753b\u8fd9\u662f\u56e0\u4e3a<code>getChangePayload</code>\u8fd4\u56denull, \u968f\u4fbf\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u5373\u53ef\u5173\u95ed</p> <pre><code>rv.linear().setup {\n// ...\nitemDifferCallback = object : ItemDifferCallback {\noverride fun getChangePayload(oldItem: Any, newItem: Any): Any? {\nreturn true\n}\n}\n}.models = getRandomData(true)\n</code></pre>"},{"location":"refresh-data/#_4","title":"\u5c40\u90e8\u5237\u65b0","text":"<p>\u5c40\u90e8\u5237\u65b0\u67d0\u4e2a\u6216\u8005\u6279\u91cfItem\u7684\u5185\u5bb9, \u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5230\u4e24\u79cd\u65b9\u5f0f</p> <ol> <li><code>notifyItemChanged</code>\u7b49\u65b9\u6cd5, \u8fd9\u4e2a\u4e0a\u9762\u63d0\u8fc7</li> <li>DataBinding\u672c\u8eab\u5c31\u652f\u6301\u8fd9\u4e2a\u7279\u6027 (\u63a8\u8350\u6b64\u65b9\u6cd5), \u6027\u80fd\u6700\u9ad8/\u65b9\u4fbf. Demo\u4e2d\u7684\u9009\u62e9\u6a21\u5f0f\u5c31\u662f\u5982\u6b64\u5b9e\u73b0</li> </ol> <p> BRV\u652f\u6301DataBinding\u7ed1\u5b9a\u6570\u636e, DataBinding\u7684\u6570\u636e\u6a21\u578b\u5982\u679c\u7ee7\u627fObservable\u5c31\u53ef\u4ee5\u81ea\u52a8\u66f4\u65b0UI</p> <pre><code>data class CheckModel(var checked: Boolean = false, var visibility: Boolean = false) : BaseObservable()\n</code></pre> <p>\u53ef\u4ee5\u81ea\u52a8\u66f4\u65b0UI\u7684\u5b57\u6bb5\u7c7b\u578b, \u8fd9\u6837\u53ef\u4ee5\u4e0d\u7528\u6574\u4e2a\u6570\u636e\u6a21\u578b\u7ee7\u627fBaseObservable</p> <ul> <li>LiveData</li> <li>ObservableField</li> </ul> <p>\u81ea\u52a8\u66f4\u65b0LiveData\u5b57\u6bb5\u8981\u6c42\u5148\u4e3aDataBinding\u914d\u7f6e\u751f\u547d\u5468\u671f, \u56e0\u4e3aliveData\u89c2\u5bdf\u8005\u9700\u8981lifecycleOwner <pre><code>binding.lifecycleOwner = this\n</code></pre></p> <p>\u4ee5\u4e0a\u5c5e\u4e8eDataBinding\u4f7f\u7528\u57fa\u7840, \u66f4\u591aDataBinding\u4f7f\u7528\u65b9\u6cd5\u8bf7\u9605\u8bfb: DataBinding\u6700\u5168\u4f7f\u7528\u8bf4\u660e </p>"},{"location":"refresh-data/#_5","title":"\u5237\u65b0\u65b9\u6cd5","text":"<p>\u8fd9\u91cc\u4ecb\u7ecd\u7684\u5c5e\u4e8eRecyclerView\u5b98\u65b9\u65b9\u6cd5, BRV\u7684<code>BindingAdapter</code>\u7ee7\u627f<code>RecyclerView.Adapter</code>, \u81ea\u7136\u62e5\u6709\u7236\u7c7b\u7684\u6570\u636e\u5237\u65b0\u65b9\u6cd5. \u7531\u4e8e\u5f88\u591a\u5f00\u53d1\u8005\u5e38\u95ee\u6b64\u9700\u6c42, \u6545\u7edf\u4e00\u4ecb\u7ecd\u4e0b</p> <pre><code>class BindingAdapter : RecyclerView.Adapter&lt;BindingAdapter.BindingViewHolder&gt;()\n</code></pre> \u5237\u65b0\u65b9\u6cd5 \u63cf\u8ff0 notifyDataSetChanged \u5168\u90e8\u6570\u636e\u5237\u65b0(\u4e0d\u5e26\u52a8\u753b) notifyItemChanged \u5c40\u90e8\u6570\u636e\u53d8\u66f4 notifyItemInserted Item\u63d2\u5165 notifyItemMoved Item\u79fb\u52a8\u4f4d\u7f6e notifyItemRemoved Item\u5220\u9664 notifyItemRangeChanged \u6307\u5b9a\u8303\u56f4\u5185Item\u6570\u636e\u53d8\u66f4 notifyItemRangeInserted \u6307\u5b9a\u8303\u56f4\u5185Item\u63d2\u5165 notifyItemRangeRemoved \u6307\u5b9a\u8303\u56f4\u5185\u5220\u9664 <p>\u5177\u4f53\u533a\u522b\u53ef\u4ee5\u641c\u7d22: <code>RecycleView\u5c40\u90e8\u5237\u65b0</code> \u8981\u6ce8\u610f\u7684\u662f\u8fd9\u4e9b\u65b9\u6cd5\u90fd\u662f\u5237\u65b0UI, \u5982\u679c\u4f60\u5217\u8868\u6570\u636e\u5e76\u6ca1\u6709\u53d1\u751f\u6539\u53d8\u90a3\u4e48\u5237\u65b0\u662f\u65e0\u6548\u7684</p> <pre><code>rv.linear().setup {\naddType&lt;SimpleModel&gt;(R.layout.item_simple)\n}.models = dataList\n\ndataList.add(SimpleModel())\n\nrv.bindingAdapter.notifyItemInserted(dataList.size) // \u6700\u540e\u7684\u4f4d\u7f6e\u6709\u63d2\u5165\u4e00\u4e2a\u65b0\u7684Item\n</code></pre>"},{"location":"refresh/","title":"Pull-to-Refresh/Load-more","text":"<p>\u672c\u7ae0\u5185\u5bb9\u770b\u4f3c\u591a\u5b9e\u5219\u4ee3\u7801\u5f88\u7b80\u7ec3, \u53ea\u662f\u4e3a\u907f\u514d\u4ecb\u7ecd\u4e0d\u591f\u8be6\u7ec6</p> <p></p> <p>SmartRefreshLayout \u5e94\u8be5\u662f\u76ee\u524dAndroid\u4e0a\u6269\u5c55\u6027\u6700\u5f3a\u7684\u5237\u65b0\u6846\u67b6, \u800cBRV\u7684\u4e0b\u62c9\u5237\u65b0\u548c\u4e0a\u62c9\u52a0\u8f7d\u6b63\u662f\u6269\u5c55\u7684SmartRefreshLayout , \u652f\u6301\u5176\u6240\u6709\u7279\u6027\u5e76\u4e14\u8fd8\u589e\u52a0\u4e86\u65b0\u7684\u529f\u80fd. </p> <p>\u5982\u679c\u9700\u8981\u66f4\u591a\u7684\u4e0b\u62c9\u5237\u65b0\u6216\u8005\u4e0a\u62c9\u52a0\u8f7d\u7684\u81ea\u5b9a\u4e49\u9700\u6c42\u8bf7\u67e5\u770bSmartRefreshLayout\u7684\u4f7f\u7528\u6587\u6863    \u672c\u6846\u67b6\u4e2d\u7684<code>PageRefreshLayout</code>\u7ee7\u627f\u81ea<code>SmartRefreshLayout</code>, \u6545\u62e5\u6709\u5176\u6240\u6709\u7279\u6027</p> <p> \u672c\u5e93\u5185\u7f6eSmartRefreshLayout\u4ee5\u4e0b\u57fa\u7840\u4f9d\u8d56, \u65e0\u9700\u518d\u6b21\u5f15\u5165 <pre><code>api 'io.github.scwang90:refresh-layout-kernel:2.0.5'\napi 'io.github.scwang90:refresh-header-material:2.0.5'\napi 'io.github.scwang90:refresh-footer-classics:2.0.5'\n</code></pre></p> <p>SmartRefreshLayout\u7684\u6307\u5b9a\u7684\u5237\u65b0\u5934\u548c\u5237\u65b0\u811a\u5e03\u5c40\u8bf7\u5206\u522b\u4f9d\u8d56(\u5176\u5e93\u5982\u6b64\u8bbe\u8ba1)</p> <p>\u53ef\u9009\u914d\u7f6e\u7684\u5237\u65b0\u5934\u5e03\u5c40\u548c\u811a\u5e03\u5c40</p> <pre><code>implementation  'io.github.scwang90:refresh-layout-kernel:2.0.5'      //\u6838\u5fc3\u5fc5\u987b\u4f9d\u8d56\nimplementation  'io.github.scwang90:refresh-header-classics:2.0.5'    //\u7ecf\u5178\u5237\u65b0\u5934\nimplementation  'io.github.scwang90:refresh-header-radar:2.0.5'       //\u96f7\u8fbe\u5237\u65b0\u5934\nimplementation  'io.github.scwang90:refresh-header-falsify:2.0.5'     //\u865a\u62df\u5237\u65b0\u5934\nimplementation  'io.github.scwang90:refresh-header-material:2.0.5'    //\u8c37\u6b4c\u5237\u65b0\u5934\nimplementation  'io.github.scwang90:refresh-header-two-level:2.0.5'   //\u4e8c\u7ea7\u5237\u65b0\u5934\nimplementation  'io.github.scwang90:refresh-footer-ball:2.0.5'        //\u7403\u8109\u51b2\u52a0\u8f7d\nimplementation  'io.github.scwang90:refresh-footer-classics:2.0.5'    //\u7ecf\u5178\u52a0\u8f7d\n</code></pre>"},{"location":"refresh/#_1","title":"\u521d\u59cb\u5316","text":"<p>\u5237\u65b0\u5e03\u5c40\u8981\u6c42\u5fc5\u987b\u5148\u521d\u59cb\u5316, \u63a8\u8350\u5728Application\u4e2d</p> <pre><code>SmartRefreshLayout.setDefaultRefreshHeaderCreator { context, layout -&gt; MaterialHeader(this) }\nSmartRefreshLayout.setDefaultRefreshFooterCreator { context, layout -&gt; ClassicsFooter(this) }\n</code></pre>"},{"location":"refresh/#pagerefreshlayout","title":"PageRefreshLayout","text":"<p>\u8be5\u63a7\u4ef6\u7ee7\u627f\u81ea<code>SmartRefreshLayout</code>, \u589e\u52a0\u4ee5\u4e0b\u7279\u6027</p> <ol> <li>\u7b80\u5316\u51fd\u6570</li> <li>\u7ec6\u8282\u4f18\u5316</li> <li>\u7f3a\u7701\u9875</li> <li>\u5206\u9875\u52a0\u8f7d</li> <li>\u62c9\u53d6\u52a0\u8f7d\u66f4\u591a</li> <li>\u9884\u52a0\u8f7d / \u9884\u62c9\u53d6</li> </ol>"},{"location":"refresh/#_2","title":"\u58f0\u660e","text":"<p>\u652f\u6301\u4e24\u79cd\u65b9\u5f0f\u521b\u5efa, \u63a8\u8350\u5e03\u5c40\u5305\u88f9,</p> \u5e03\u5c40\u5305\u88f9 <pre><code>&lt;com.drake.brv.PageRefreshLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"match_parent\"\nandroid:id=\"@+id/page\"\napp:stateEnabled=\"true\"\nandroid:layout_height=\"match_parent\"\ntools:context=\"com.drake.brv.sample.fragment.RefreshFragment\"&gt;\n\n&lt;androidx.recyclerview.widget.RecyclerView\nandroid:id=\"@+id/rv\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\" /&gt;\n\n&lt;/com.drake.brv.PageRefreshLayout&gt;\n</code></pre> \u4ee3\u7801\u5305\u88f9 <p>\u53ea\u63a8\u8350\u4f7f\u7528\u5e03\u5c40\u521b\u5efa, \u53ef\u4fdd\u6301\u9879\u76ee\u4ee3\u7801\u53ef\u8bfb\u6027\u5e76\u4e14\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u95ee\u9898\u53d1\u751f <pre><code>val page = rv.pageCreate()\n</code></pre></p>"},{"location":"refresh/#_3","title":"\u521b\u5efa\u5217\u8868","text":"<pre><code>rv.linear().setup {\naddType&lt;Model&gt;(R.layout.item_simple)\naddType&lt;DoubleItemModel&gt;(R.layout.item_full_span)\n}\n\npage.onRefresh {\npostDelayed({ // \u6a21\u62df\u7f51\u7edc\u8bf7\u6c422\u79d2\u540e\u6210\u529f, \u521b\u5efa\u5047\u7684\u6570\u636e\u96c6\nval data = getData()\naddData(data) {\nindex &lt; total // \u5224\u65ad\u662f\u5426\u6709\u66f4\u591a\u9875\n}\n}, 2000)\n}.autoRefresh()\n</code></pre> <ol> <li><code>onRefresh</code>\u5373\u6bcf\u6b21\u5237\u65b0/\u4e0a\u62c9\u52a0\u8f7d\u90fd\u4f1a\u6267\u884c\u7684\u51fd\u6570</li> </ol>"},{"location":"refresh/#_4","title":"\u76d1\u542c\u72b6\u6001","text":"<pre><code>// \u4e0b\u62c9\u5237\u65b0\npage.onRefresh {\n// \u8fd9\u91cc\u53ef\u4ee5\u8fdb\u884c\u7f51\u7edc\u8bf7\u6c42\u7b49\u5f02\u6b65\u64cd\u4f5c\n}\n\n// \u4e0a\u62c9\u52a0\u8f7d\npage.onLoadMore {\n// \u8fd9\u91cc\u53ef\u4ee5\u8fdb\u884c\u7f51\u7edc\u8bf7\u6c42\u7b49\u5f02\u6b65\u64cd\u4f5c\n}\n</code></pre> <ol> <li>\u5982\u679c\u4e0d\u8c03\u7528<code>onLoadMore</code>\u5219\u4e0a\u62c9\u52a0\u8f7d\u540c\u6837\u4e5f\u4f1a\u6267\u884c<code>onRefresh</code>\u51fd\u6570, \u56e0\u4e3a\u4e0b\u62c9\u5237\u65b0\u548c\u4e0a\u62c9\u52a0\u8f7d\u5728\u9879\u76ee\u4e2d\u4e00\u822c\u662f\u540c\u4e00\u4e2a\u63a5\u53e3\u53ea\u662f\u5206\u9875\u5b57\u6bb5\u503c\u4e0d\u540c\u800c\u5df2</li> </ol>"},{"location":"refresh/#_5","title":"\u89e6\u53d1\u5237\u65b0","text":"<p>\u62e5\u6709\u4e09\u4e2a\u51fd\u6570\u53ef\u4ee5\u89e6\u53d1\u5237\u65b0\u72b6\u6001(\u90fd\u4f1a\u56de\u8c03\u51fd\u6570onRefresh)</p> \u51fd\u6570 \u63cf\u8ff0 autoRefresh \u663e\u793a\u4e0b\u62c9\u5237\u65b0\u52a8\u753b showLoading \u663e\u793a\u52a0\u8f7d\u4e2d\u7f3a\u7701\u9875, \u5f53\u7136\u5f97\u5148\u8bbe\u7f6e<code>loadingLayout</code>(\u6216\u8005\u8bfb\u53d6<code>StateConfig</code>\u5168\u5c40\u7f3a\u7701\u9875\u914d\u7f6e) refresh \u9759\u9ed8\u5237\u65b0(\u65e0\u52a8\u753b) refreshing \u521d\u6b21\u8c03\u7528\u7b49\u6548\u4e8e<code>showLoading</code>. \u5f53\u52a0\u8f7d\u5b8c\u6bd5\u4ee5\u540e, \u518d\u6b21\u8c03\u7528\u7b49\u6548<code>refresh</code> <p>\u8fd93\u79cd\u89e6\u53d1\u5237\u65b0\u65b9\u5f0f\u90fd\u4f1a\u5bfc\u81f4\u91cd\u7f6e\u7d22\u5f15 <code>index=startIndex</code>, index\u5c31\u662f\u9ed8\u8ba4\u6839\u636e\u5206\u9875\u9ed8\u8ba4\u9012\u589e\u7684\u5b57\u6bb5, \u540e\u9762\u4f1a\u6f14\u793a\u5982\u4f55\u4f7f\u7528\u8be5\u5b57\u6bb5</p>"},{"location":"refresh/#_6","title":"\u7f3a\u7701\u9875","text":"<p>PageRefreshLayout\u5185\u5d4c<code>StateLayout</code>\u540c\u65f6\u5177\u5907\u663e\u793a\u7f3a\u7701\u9875\u7684\u80fd\u529b</p> <p>\u7f3a\u7701\u9875\u72b6\u6001\u63a7\u5236(\u4e00\u822c\u60c5\u51b5\u4e0b\u90fd\u662f\u6846\u67b6\u5185\u90e8\u81ea\u52a8\u63a7\u5236)</p> \u51fd\u6570 \u63cf\u8ff0 showLoading \u663e\u793a\u52a0\u8f7d\u4e2d\u7f3a\u7701\u9875 showEmpty \u663e\u793a\u7a7a\u7f3a\u7701\u9875 showError \u663e\u793a\u9519\u8bef\u7f3a\u7701\u9875 showContent \u663e\u793a\u5185\u5bb9\u9875"},{"location":"refresh/#_7","title":"\u5168\u5c40\u7f3a\u7701\u9875\u914d\u7f6e","text":"<p>\u5168\u5c40\u7f3a\u7701\u9875\u914d\u7f6e\u548cStateLayout\u5171\u4eab, \u56e0\u4e3aPageRefreshLayout\u5c31\u662f\u5185\u5d4cStateLayout</p> <pre><code>/**\n *  \u63a8\u8350\u5728Application\u4e2d\u8fdb\u884c\u5168\u5c40\u914d\u7f6e\u7f3a\u7701\u9875, \u5f53\u7136\u540c\u6837\u6bcf\u4e2a\u9875\u9762\u53ef\u4ee5\u5355\u72ec\u6307\u5b9a\u7f3a\u7701\u9875.\n *  \u5177\u4f53\u67e5\u770b https://github.com/liangjingkanji/StateLayout\n */\nStateConfig.apply {\nemptyLayout = R.layout.layout_empty\nerrorLayout = R.layout.layout_error\nloadingLayout = R.layout.layout_loading\n\nonLoading {\n// \u6b64\u751f\u547d\u5468\u671f\u53ef\u4ee5\u62ff\u5230LoadingLayout\u521b\u5efa\u7684\u89c6\u56fe\u5bf9\u8c61, \u53ef\u4ee5\u8fdb\u884c\u52a8\u753b\u8bbe\u7f6e\u6216\u70b9\u51fb\u4e8b\u4ef6.\n}\n}\n</code></pre>"},{"location":"refresh/#_8","title":"\u5355\u4f8b\u7f3a\u7701\u9875\u914d\u7f6e","text":"<p>\u5355\u4f8b\u5c31\u662f\u67d0\u4e2a\u5e03\u5c40\u67d0\u4e2a\u7f3a\u7701\u72b6\u6001\u9875\u9762\u4e0d\u60f3\u4f7f\u7528\u5168\u5c40\u914d\u7f6e\u7684\u7f3a\u7701\u9875. \u90a3\u4e48\u5c31\u4e3a\u8fd9\u4e2a\u5e03\u5c40\u5355\u72ec\u6307\u5b9a\u7279\u6b8a\u7684\u7f3a\u7701\u9875</p> <p>\u65e0\u9700\u5168\u90e8\u5355\u72ec\u6307\u5b9a, \u53ef\u53ea\u6307\u5b9a\u52a0\u8f7d\u4e2d\u5355\u4f8b\u6216\u8005\u9519\u8bef\u9875\u9762\u5355\u4f8b</p> \u5e03\u5c40\u58f0\u660e <pre><code>&lt;com.drake.brv.PageRefreshLayout\n.....\napp:error_layout=\"@layout/layout_error\"\napp:empty_layout=\"@layout/layout_empty\"\napp:loading_layout=\"@layout/layout_loading\"&gt;\n&lt;!--RecyclerView\u4ee3\u7801--&gt;\n\n&lt;/com.drake.brv.PageRefreshLayout&gt;\n</code></pre> \u4ee3\u7801\u58f0\u660e <pre><code>page.apply {\nloadingLayout = R.layout.layout_loading\nemptyLayout = R.layout.layout_empty\n// errorLayout = R.layout.layout_error\n}\n</code></pre> <p>\u9ed8\u8ba4\u4f1a\u4f7f\u7528\u7f3a\u7701\u9875, \u5982\u679c\u4f60\u5df2\u7ecf\u8bbe\u7f6e\u4e86\u5168\u5c40\u7f3a\u7701\u9875\u4f46\u662f\u6b64\u523b\u4e0d\u60f3\u4f7f\u7528. \u53ef\u4ee5\u4f7f\u7528\u5c5e\u6027|\u51fd\u6570: <code>stateEnabled</code></p> <p>\u56e0\u4e3a\u5934\u5e03\u5c40\u5c5e\u4e8e\u5217\u8868\u7684\u4e00\u90e8\u5206, \u800c\u7f3a\u7701\u9875\u4f1a\u8986\u76d6\u6574\u4e2a\u5217\u8868. \u90a3\u4e48\u60f3\u8981\u4f7f\u7528\u7f3a\u7701\u9875\u53c8\u4e0d\u60f3\u5f71\u54cd\u5217\u8868\u7684\u5934\u5e03\u5c40, \u90a3\u5934\u5e03\u5c40\u8bf7\u4f7f\u7528<code>CoordinatorLayout</code>\u5b9e\u73b0.</p> <p>\u6ce8\u610f\u5982\u679c\u4f7f\u7528<code>NestedScrollView</code>\u5d4c\u5957Rv\u5b9e\u73b0\u4f1a\u5bfc\u81f4RV\u4e00\u6b21\u6027\u52a0\u8f7d\u5b8citem\u5185\u5b58\u6d88\u8017\u5927. \u800cCoordinatorLayout\u5d4c\u5957RV\u4e0d\u4f1a</p>"},{"location":"refresh/#_9","title":"\u5237\u65b0\u6570\u636e","text":"<p>\u524d\u9762\u63d0\u5230 PageRefreshLayout \u652f\u6301\u81ea\u52a8\u5206\u9875\u52a0\u8f7d, \u81ea\u52a8\u5206\u9875\u4e0d\u9700\u8981\u4f60\u8c03\u7528<code>rv.models</code>\u51fd\u6570\u53bb\u8bbe\u7f6e\u6570\u636e, \u4f7f\u7528<code>addData</code>\u5373\u53ef</p> <pre><code>// \u4e0b\u62c9\u5237\u65b0\u548c\u4e0a\u62c9\u52a0\u8f7d\u90fd\u4f1a\u6267\u884conRefresh, \u9664\u975e\u53e6\u5916\u8bbe\u7f6eonLoadMore\npageLayout.onRefresh {\nscope {\nval data = Get&lt;String&gt;(\"/path\").await()\naddData(data.list){\n// \u8be5\u56de\u8c03\u51fd\u6570\u53c2\u6570\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u7c7b\u578b\u7528\u4e8e\u5224\u65ad\u662f\u5426\u5b58\u5728\u4e0b\u4e00\u9875, \u51b3\u5b9a\u4e0a\u62c9\u52a0\u8f7d\u662f\u5426\u5173\u95ed\nadapter.itemCount &lt; data.count // \u8fd9\u91cc\u662f\u5224\u65ad\u662f\u5426\u7531\u66f4\u591a\u9875, \u5177\u4f53\u903b\u8f91\u6839\u636e\u63a5\u53e3\u5b9a\u4e49\n}\n}\n}\n</code></pre> <p>\u5927\u90e8\u5206\u60c5\u51b5\u540e\u7aef\u5b9a\u4e49\u5206\u9875\u5b57\u6bb5\u7b2c\u4e00\u9875\u4e3a1, \u4f46\u662f\u53ef\u80fd\u5b58\u5728\u90e8\u5206\u540e\u7aef\u5b9a\u4e49\u4e3a0, \u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u5728Application\u4e2d\u8bbe\u7f6e<code>index</code>\u7684\u521d\u59cb\u503c\u5373\u7b2c\u4e00\u9875\u7684\u5b57\u6bb5</p> <pre><code>class App : Application() {\noverride fun onCreate() {\nsuper.onCreate()\n\nPageRefreshLayout.startIndex = 1 // startIndex\u5373index\u53d8\u91cf\u7684\u521d\u59cb\u503c\n}\n</code></pre> <p>\u8fd9\u91cc\u7684\u7f51\u7edc\u8bf7\u6c42\u4f7f\u7528\u7684\u662f\u6211\u5f00\u6e90\u7684\u53e6\u4e00\u4e2a\u9879\u76eeNet, \u548cBRV\u53ef\u4ee5\u8054\u52a8\u914d\u7f6e </p> <p>\u5047\u8bbe<code>PageRefreshLayout</code>\u6ca1\u6709\u76f4\u63a5\u5305\u88f9RecyclerView, \u8fd9\u4e2a\u65f6\u5019\u9700\u8981addData\u51fd\u6570\u6307\u5b9a\u53c2\u6570adapter\u6765\u4f7f\u7528\u81ea\u52a8\u5206\u9875, \u5426\u5219\u5c06\u629b\u51fa\u5f02\u5e38</p>"},{"location":"refresh/#_10","title":"\u7f3a\u7701\u9875\u7981\u6b62\u4e0b\u62c9\u5237\u65b0","text":"<p>\u63a7\u5236PageRefreshLayout\u5f53\u663e\u793a\u7f3a\u7701\u9875\u72b6\u6001\u65f6\u7981\u6b62\u4e0b\u62c9\u5237\u65b0\u4ea4\u4e92\u624b\u52bf</p> \u51fd\u6570 \u63cf\u8ff0 refreshEnableWhenEmpty \u662f\u5426\u663e\u793a\u7a7a\u7f3a\u7701\u9875\u65f6\u542f\u7528\u4e0b\u62c9\u5237\u65b0 refreshEnableWhenError \u662f\u5426\u663e\u793a\u9519\u8bef\u7f3a\u7701\u9875\u65f6\u542f\u7528\u4e0b\u62c9\u5237\u65b0 <p>\u540c\u540d\u7684\u4f34\u751f\u5bf9\u8c61\u5c5e\u6027\u4e3a\u5168\u5c40\u914d\u7f6e, PageRefreshLayout\u5bf9\u8c61\u5c5e\u6027\u5c5e\u4e8e\u5355\u4f8b\u914d\u7f6e</p> <p>\u5982\u679c\u9700\u8981\u66f4\u590d\u6742\u7684\u903b\u8f91\u5efa\u8bae\u81ea\u5df1\u5728\u7f3a\u7701\u9875\u56de\u8c03\u4e2d\u901a\u8fc7<code>PageRefreshLayout.setEnableRefresh()</code>\u81ea\u7531\u63a7\u5236</p>"},{"location":"state/","title":"Empty State","text":"<p>\u7f3a\u7701\u9875\u5bf9\u4e8e\u4e00\u4e2a\u7528\u6237\u4f53\u9a8c\u826f\u597d\u7684\u5e94\u7528\u975e\u5e38\u91cd\u8981</p> <p>BRV\u91c7\u7528\u96c6\u6210\u4e00\u4e2a\u975e\u5e38\u4f18\u79c0\u7f3a\u7701\u9875\u5e93 StateLayout\u6765\u5b9e\u73b0\u5217\u8868\u7f3a\u7701\u9875</p> <p>\u5df2\u7ecf\u5185\u5d4c\u5728BRV\u5e93\u4e2d, \u65e0\u9700\u518d\u6b21\u4f9d\u8d56StateLayout. \u5982\u679c\u4f60\u7684\u5217\u8868\u540c\u65f6\u5305\u542b\u4e0b\u62c9\u5237\u65b0/\u4e0a\u62c9\u52a0\u8f7d\u6211\u5efa\u8bae\u4f7f\u7528PageRefreshLayout\u66ff\u4ee3StateLayout</p> <p></p> <p>\u4e3b\u8981\u7279\u70b9</p> <ul> <li> \u4f18\u96c5\u7684\u51fd\u6570\u8bbe\u8ba1</li> <li> \u5c40\u90e8\u7f3a\u7701\u9875</li> <li> \u5e03\u5c40\u6216\u4ee3\u7801\u58f0\u660e\u7686\u53ef</li> <li> \u5168\u5c40/\u5355\u4f8b\u914d\u7f6e</li> <li> \u76d1\u542c\u7f3a\u7701\u9875\u663e\u793a</li> <li> \u81ea\u5b9a\u4e49\u52a8\u753b</li> <li> \u591a\u79cd\u72b6\u6001\u7f3a\u7701\u9875</li> <li> \u7f51\u7edc\u8bf7\u6c42\u56de\u8c03</li> <li> \u4f20\u9012\u4efb\u610f\u5bf9\u8c61\u4f5c\u4e3a\u6807\u7b7e</li> <li> \u5feb\u901f\u914d\u7f6e\u70b9\u51fb\u91cd\u8bd5</li> <li> \u5f02\u6b65\u7ebf\u7a0b</li> <li> \u65e0\u7f51\u7edc\u7acb\u5373\u663e\u793a\u9519\u8bef\u7f3a\u7701\u9875</li> <li> \u914d\u5408\u5217\u8868\u4f7f\u7528\u81ea\u52a8\u5316\u663e\u793a\u5217\u8868\u7f3a\u7701\u9875</li> <li> \u914d\u5408\u7f51\u7edc\u8bf7\u6c42\u81ea\u52a8\u5316\u663e\u793a\u7f3a\u7701\u9875</li> </ul> <p></p> <p></p>"},{"location":"state/#_1","title":"\u4f7f\u7528","text":"<p>\u7b2c\u4e00\u6b65, \u5728Application\u4e2d\u521d\u59cb\u5316\u7f3a\u7701\u9875</p> <pre><code>StateConfig.apply {\nemptyLayout = R.layout.layout_empty\nerrorLayout = R.layout.layout_error\nloadingLayout = R.layout.layout_loading\n}\n</code></pre> <p>\u7b2c\u4e8c\u6b65, \u521b\u5efa\u7f3a\u7701\u9875</p> \u5e03\u5c40\u521b\u5efa <pre><code>&lt;com.drake.statelayout.StateLayout\nandroid:id=\"@+id/state\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"&gt;\n\n&lt;androidx.recyclerview.widget.RecyclerView\nandroid:id=\"@+id/rv\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\" /&gt;\n&lt;/com.drake.statelayout.StateLayout&gt;\n</code></pre> \u4ee3\u7801\u521b\u5efa <p>\u5efa\u8bae\u5728XML\u5e03\u5c40\u4e2d\u521b\u5efa, \u53ef\u4fdd\u6301\u4ee3\u7801\u53ef\u8bfb\u6027\u4e14\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u95ee\u9898\u53d1\u751f, \u6027\u80fd\u4e5f\u66f4\u4f18 <pre><code>val state = stateCreate() // \u5728Activity/Fragment\u76f4\u63a5\u51fd\u6570\u521b\u5efa\u7f3a\u7701\u9875, `rv.stateCreate()`\u4e5f\u53ef\u4ee5, \u4f46\u662f\u975e\u5e38\u4e0d\u63a8\u8350\u4f7f\u7528\n</code></pre></p> <p>CoordinatorLayout+ViewPager<code>\u8981\u6c42\u4f7f\u7528\u7684\u72b6\u6001\u7f3a\u7701\u9875\u7684XML\u6839\u5e03\u5c40\u4e3a</code>NestedScrollView`, \u5426\u5219\u663e\u793a\u7f3a\u7701\u9875\u540e\u65e0\u6cd5\u6b63\u5e38\u6ed1\u52a8</p> <p>\u7b2c\u4e09\u6b65, \u521b\u5efa\u5217\u8868</p> <pre><code>rv.linear().setup {\naddType&lt;Model&gt;(R.layout.item_simple)\naddType&lt;DoubleItemModel&gt;(R.layout.item_full_span)\n}.models = getData()\n</code></pre> <p>\u7b2c\u56db\u6b65, \u663e\u793a\u7f3a\u7701\u9875 <pre><code>state.showLoading()  // \u52a0\u8f7d\u4e2d\nstate.showContent() // \u52a0\u8f7d\u6210\u529f\nstate.showError() // \u52a0\u8f7d\u9519\u8bef\nstate.showEmpty() // \u52a0\u8f7d\u5931\u8d25\n</code></pre></p>"},{"location":"state/#statelayout","title":"StateLayout","text":"<p>StateLayout\u7f3a\u7701\u9875\u5e93\u975e\u5e38\u63a8\u8350\u4f7f\u7528, BRV\u5185\u90e8\u96c6\u6210\u5b9e\u73b0\u5217\u8868\u7f3a\u7701\u9875\u7ed9\u5f00\u53d1\u8005\u4f7f\u7528</p> <p>\u5982\u679c\u4f60\u60f3\u8981\u81ea\u5b9a\u4e49\u7f3a\u7701\u9875\u52a8\u753b\u4ee5\u53ca\u7f3a\u7701\u9875\u7684\u751f\u547d\u5468\u671f\u76d1\u542c\u5efa\u8bae\u4f60\u9605\u8bfb\u4ee5\u4e0b\u6587\u6863</p> <ul> <li>GitHub</li> <li>\u4f7f\u7528\u6587\u6863</li> </ul>"},{"location":"state/#_2","title":"\u9aa8\u9abc\u52a8\u753b","text":"<p>\u9aa8\u9abc\u52a8\u753b\u5b9e\u9645\u4e0a\u5c31\u662f\u5bf9\u5e94\u5e03\u5c40\u7684\u52a8\u753b\u6216\u8005\u56fe\u7247</p> <p>brv\u7684\u9aa8\u9abc\u52a8\u753b\u540c\u6837\u7531StateLayout\u5b9e\u73b0: \u9aa8\u9abc\u52a8\u753b</p> <p>\u5177\u4f53\u5b9e\u73b0\u4ee3\u7801\u793a\u4f8b\u53ef\u4ee5\u9605\u8bfbsample</p>"},{"location":"swipe/","title":"Swipe","text":"<p>\u4e3a\u6570\u636e\u6a21\u578b\u5b9e\u73b0\u63a5\u53e3<code>ItemSwipe</code>\u5373\u53ef\u5f00\u542f\u62d6\u62fd\u529f\u80fd</p> <pre><code>data class SwipeModel(override var itemOrientationSwipe: Int = ItemOrientation.ALL) : ItemSwipe\n</code></pre> <p>\u6ce8\u610f\u5982\u679c\u4f60\u7684\u6570\u636e\u6a21\u578b\u88abGson\u53cd\u5e8f\u5217\u5316\u540e, \u4f1a\u5220\u9664\u6240\u6709\u7684\u5b57\u6bb5\u521d\u59cb\u5316\u503c</p> <p>\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u91cd\u5199\u8bbf\u95ee\u51fd\u6570\u6765\u89e3\u51b3\u95ee\u9898, \u8ba9\u8be5\u503c\u56fa\u5b9a\u8fd4\u56de</p> <pre><code>class SwipeModel() : ItemDrag {\noverride var itemOrientationSwipe: Int = 0\nget() = ItemOrientation.ALL // \u53ea\u4f1a\u8fd4\u56de\u8be5\u503c\n}\n</code></pre>"},{"location":"swipe/#itemorientation","title":"ItemOrientation","text":"<p>\u8be5\u7c7b\u5305\u542b\u62d6\u62fd\u53ef\u914d\u7f6e\u7684\u65b9\u5411</p> \u5b57\u6bb5 \u63cf\u8ff0 <code>ALL</code> \u5168\u90e8\u65b9\u5411 <code>VERTICAL</code> \u5782\u76f4\u65b9\u5411 <code>HORIZONTAL</code> \u6c34\u5e73\u65b9\u5411 <code>LEFT</code> \u5411\u5de6 <code>RIGHT</code> \u5411\u53f3 <code>UP</code> \u5411\u4e0a <code>DOWN</code> \u5411\u4e0b <code>NONE</code> \u7981\u7528"},{"location":"swipe/#_1","title":"\u81ea\u5b9a\u4e49\u4fa7\u6ed1","text":"<p>\u5982\u679c\u60f3\u8981\u6269\u5c55ItemTouchHelper\u53ef\u4ee5\u7ed9BindingAdapter\u7684\u53d8\u91cf<code>itemTouchHelper</code>\u8d4b\u503c</p> <pre><code>rv.linear().setup {\naddType&lt;SwipeModel&gt;(R.layout.item)\n\nitemTouchHelper = ItemTouchHelper(object : DefaultItemTouchCallback(this) {\n// \u8fd9\u91cc\u53ef\u4ee5\u91cd\u5199\u51fd\u6570\noverride fun onSwiped(viewHolder: RecyclerView.ViewHolder, direction: Int) {\nsuper.onSwiped(viewHolder, direction)\n// \u8fd9\u662f\u4fa7\u6ed1\u5220\u9664\u540e\u56de\u8c03, \u8fd9\u91cc\u53ef\u4ee5\u540c\u6b65\u670d\u52a1\u5668\n\nLog.d(\"\u4f4d\u7f6e\", \"layoutPosition = ${viewHolder.layoutPosition}\")\nLog.d(\"\u6570\u636e\", \"SwipeModel = ${(viewHolder as BindingAdapter.BindingViewHolder).getModel&lt;SwipeModel&gt;()}\")\n}\n})\n\n}.models = data\n</code></pre> <p>\u901a\u8fc7\u7ed9view\u6253\u4e0atag\u6807\u7b7e <code>swipe</code> \u53ef\u4ee5\u81ea\u5b9a\u4e49\u4fa7\u6ed1\u5c06\u4f1a\u79fb\u52a8\u7684\u89c6\u56fe. \u8fd9\u6837\u5c31\u53ef\u4ee5\u5c55\u793a\u80cc\u666f\u540e\u7684\u89c6\u56fe <pre><code>&lt;RelativeLayout\nandroid:layout_width=\"wrap_content\"\nandroid:layout_height=\"80dp\"\nandroid:orientation=\"horizontal\"\nandroid:tag=\"swipe\"/&gt;\n</code></pre></p>"},{"location":"swipe/#_2","title":"\u4fa7\u6ed1\u6309\u94ae","text":"<p>\u5f88\u591a\u4eba\u4f1a\u95ee\u5982\u4f55\u5b9e\u73b0\u7c7b\u4f3cQQ\u90a3\u6837\u7684\u4fa7\u6ed1\u5c55\u793a\u6309\u94ae. \u8fd9\u79cd\u63a8\u8350\u4f7f\u7528\u81ea\u5b9a\u4e49Item\u7684\u89c6\u56fe\u5bf9\u8c61, \u800c\u4e0d\u662f\u8ba9\u5217\u8868\u53bb\u5b9e\u73b0.0</p> <p>\u8fd9\u91cc\u63a8\u8350\u7b2c\u4e09\u65b9\u5e93: SwipeToActionLayout</p> <p></p> <p>\u8fd9\u79cd\u4ea4\u4e92\u6548\u679c\u5c5e\u4e8eiOS\u7684\u5b98\u65b9\u6548\u679c, \u4e0d\u63a8\u8350Android\u6284\u88ad</p>"},{"location":"toggle/","title":"Mode Switching","text":"<p>BRV\u63d0\u4f9b\u4e00\u4e2a\u5207\u6362\u4e8b\u4ef6\u7684\u89e6\u53d1\u548c\u76d1\u542c, \u76f8\u5f53\u4e8e\u4f1a\u63d0\u4f9b\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u904d\u5386\u6240\u6709\u7684\u5217\u8868\u6761\u76ee, \u4f60\u53ef\u4ee5\u5728\u8fd9\u4e2a\u56de\u8c03\u91cc\u9762\u4f9d\u6b21\u66f4\u65b0\u6570\u636e\u6216\u8005\u89c6\u56fe.</p> <p> \u8fd9\u4e2a<code>\u5207\u6362</code>\u53ef\u4ee5\u7406\u89e3\u4e3a<code>\u904d\u5386</code>\u5217\u8868\u6761\u76ee</p> <p> \u4e00\u822c\u7528\u4e8e\u5207\u6362\u5217\u8868\u7684\u7f16\u8f91\u6a21\u5f0f</p> <p></p> <p></p>"},{"location":"toggle/#_1","title":"\u793a\u4f8b","text":"<pre><code>override fun onActivityCreated(savedInstanceState: Bundle?) {\nsuper.onActivityCreated(savedInstanceState)\n\nrv.linear().setup {\naddType&lt;CheckModel&gt;(R.layout.item_check_mode)\n\n// \u76d1\u542c\u5207\u6362\u4e8b\u4ef6\nonToggle { position, toggleMode, end -&gt;\nif (end) {\n// \u663e\u793a\u548c\u9690\u85cf\u7f16\u8f91\u83dc\u5355\nll_menu.visibility = if (toggleMode) View.VISIBLE else View.GONE\n}\n}\n}.models = getData()\n}\n\nfun onClick(v:View){\nrv.bindingAdapter.toggle() // \u70b9\u51fb\u4e8b\u4ef6\u89e6\u53d1\u5207\u6362\u4e8b\u4ef6\n}\n</code></pre>"},{"location":"toggle/#_2","title":"\u51fd\u6570","text":"<pre><code>fun toggle()\n// \u89e6\u53d1\u5207\u6362\u6a21\u5f0f(\u6839\u636e\u5f53\u524d\u72b6\u6001\u53d6\u53cd)\n\nfun getToggleMode(): Boolean\n// \u8303\u56f4\u5f53\u524d\u51fa\u4f55\u79cd\u5207\u6362\u6a21\u5f0f\n\nfun setToggleMode(toggleMode: Boolean)\n// \u8bbe\u7f6e\u5207\u6362\u6a21\u5f0f, \u5982\u679c\u8bbe\u7f6e\u7684\u662f\u5f53\u524d\u6b63\u5904\u4e8e\u7684\u6a21\u5f0f\u4e0d\u4f1a\u89e6\u53d1\u56de\u8c03\n\nfun onToggle(block: (position: Int, toggleMode: Boolean, end: Boolean) -&gt; Unit)\n// \u76d1\u542c\u5207\u6362\u4e8b\u4ef6, \u5728\u4e8b\u4ef6\u4e2d\u4f60\u53ef\u4ee5\u5904\u7406\u4efb\u4f55\u89c6\u56fe\u7684\u6570\u636e\u6216\u8005\u89c6\u56fe\u4fee\u6539\n// position: \u904d\u5386\u8fc7\u7a0b\u4e2d\u7684\u5217\u8868\u6761\u76ee\u7d22\u5f15\n// toggleMode: \u5207\u6362\u6a21\u5f0f(\u5e03\u5c14\u503c)\n// end: \u662f\u5426\u5168\u90e8\u904d\u5386\u5b8c\u6210\n</code></pre>"},{"location":"updates/","title":"Changelog","text":""},{"location":"updates/#141","title":"1.4.1","text":"<ul> <li>feat: \u65b0\u589ecopyType\u65b9\u6cd5\u8ba9\u96c6\u5408\u4fdd\u7559\u6cdb\u578b, \u907f\u514daddType\u65e0\u6cd5\u5224\u65adList\u6cdb\u578b\u533a\u522b</li> </ul>"},{"location":"updates/#140","title":"1.4.0","text":"<ul> <li>refactor: \u5982\u679cmodels\u4e3anull\u5219mutable\u8fd4\u56de\u7a7a\u96c6\u5408</li> <li>refactor: \u5220\u9664isNetworkingRetry</li> <li>refactor: \u5220\u9664\u5e9f\u5f03\u65b9\u6cd5</li> <li>upgrade: StateLayout 1.4.1</li> <li>fix: #200 \u62d6\u62fd\u7b2c\u4e00\u4e2aItem\u4f1a\u5feb\u901f\u6ed1\u52a8\u8df3\u8fc7\u5217\u8868</li> <li>feat: \u5217\u8868\u52a8\u753b\u652f\u6301\u91cd\u590d\u663e\u793a</li> </ul>"},{"location":"updates/#1390","title":"1.3.90","text":"<ul> <li>feat: #324 \u7f51\u683c\u5206\u5272\u7ebf\u95f4\u8ddd\u652f\u6301\u4ee5item\u4e3a\u57fa\u51c6</li> <li>refactor: \u5220\u9664\u5206\u5272\u7ebf DefaultDecoration.kt setBackground()(\u53ef\u4ee5\u4f7f\u7528rv\u80cc\u666f\u8272\u66ff\u4ee3)</li> <li>fix: \u7f51\u683c\u5206\u5272\u7ebf\u95f4\u8ddd\u8bbe\u7f6e\u9519\u8bef</li> </ul>"},{"location":"updates/#1389","title":"1.3.89","text":"<ul> <li>upgrade: stateLayout 1.3.13</li> <li>sample: use mock data</li> <li>sample: \u793a\u4f8b-\u5d4c\u5957\u5217\u8868</li> <li>sample: \u793a\u4f8b-\u9996\u9875\u5e03\u5c40</li> <li>sample: \u907f\u514d\u91cd\u590d\u663e\u793a\u5bf9\u8bdd\u6846</li> </ul>"},{"location":"updates/#1388","title":"1.3.88","text":"<ul> <li>fix: #317 \u65e0\u6cd5\u62d6\u62fd\u5230item(\u7981\u7528\u62d6\u62fd\u72b6\u6001)\u7684\u76f8\u90bb\u4f4d\u7f6e</li> <li>fix: #305 \u5217\u8868\u91cd\u65b0\u8d4b\u503c\u6570\u636e\u53ef\u4ee5\u6062\u590d\u5217\u8868\u5c55\u5f00\u72b6\u6001</li> <li>pref: expand/collapse \u5224\u65ad\u903b\u8f91</li> <li>sample: #313 \u5d4c\u5957\u5206\u7ec4\u5220\u9664\u5d29\u6e83</li> <li>sample: fix something</li> </ul>"},{"location":"updates/#1387","title":"1.3.87","text":"<ul> <li>fix: #311 notifyItemChanged\u89e6\u53d1onRefresh</li> <li>pref: \u4f18\u5316dataBinding\u5f00\u542f\u65f6\u4f7f\u7528\u975elayout\u5e03\u5c40\u5b58\u5728inflate\u4e24\u6b21\u5e03\u5c40\u95ee\u9898</li> <li>feat: \u65b0\u589epage_upFetchEnabled\u5c5e\u6027</li> <li>upgrade: StateLayout 1.3.12</li> </ul>"},{"location":"updates/#1386","title":"1.3.86","text":"<ul> <li>fix: PageRefreshLayout.isNetworkingRetry noop</li> <li>feat: #292 \u65b0\u589erefreshEnableWhenEmpty/refreshEnableWhenError\u63a7\u5236\u7f3a\u7701\u9875\u4e0b\u62c9\u5237\u65b0\u542f\u7528</li> <li>pref: #298 onCreate\u73b0\u5728\u652f\u6301itemViewType\u503c</li> </ul>"},{"location":"updates/#1385","title":"1.3.85","text":"<ul> <li>feat: #286 \u4f7f\u7528getBinding()\u83b7\u53d6ViewBinding\u5b9e\u4f8b</li> </ul>"},{"location":"updates/#1384","title":"1.3.84","text":"<ul> <li>fix: setDifferModel\u4e0d\u652f\u6301\u7ee7\u627f\u81eaItemExpand\u5206\u7ec4\u96c6\u5408\u6570\u636e\u7684\u95ee\u9898</li> <li>fix: #281 onPayload\u6ca1\u6709\u4f20\u9012\u8d1f\u8f7d\u6570\u636e\u96c6\u5408</li> </ul>"},{"location":"updates/#1383","title":"1.3.83","text":"<ul> <li>fix: \u5237\u65b0\u6570\u636e\u5bfc\u81f4\u5355\u9009\u5931\u6548</li> <li>upgrade: StateLayout 1.3.11 FadeStateChangedHandler \u5185\u5b58\u6cc4\u6f0f</li> </ul>"},{"location":"updates/#1382","title":"1.3.82","text":"<p>fix: #263 \u81ea\u5b9a\u4e49\u4fa7\u6ed1\u79fb\u52a8\u7684\u89c6\u56feandroid:tag=\"swipe\"\u590d\u7528\u95ee\u9898</p>"},{"location":"updates/#1381","title":"1.3.81","text":"<p>\u4fee\u590d\u4fa7\u6ed1\u5220\u9664\u9047\u5230\u6709 header \u7684\u65f6\u5019\u79fb\u9664 models \u4e2d item \u4e0b\u6807\u8d8a\u754c\u7684\u95ee\u9898</p>"},{"location":"updates/#1380","title":"1.3.80","text":"<p>pref: setRetryIds\u8bbe\u7f6e\u70b9\u51fb\u91cd\u8bd5\u4f1a\u4f7f\u7528\u6700\u8fd1showLoading\u7684tag</p>"},{"location":"updates/#1379","title":"1.3.79","text":"<ul> <li>fix: \u7f51\u683c\u5206\u5272\u7ebf\u52a8\u6001spanSize\u95f4\u8ddd\u4e22\u5931</li> <li>feat: findView\u652f\u6301\u53ef\u7a7a\u7c7b\u578b</li> <li>feat: \u65b0\u589e<code>dividerSpace</code>\u51fd\u6570</li> <li>feat: StateLayout 1.3.8 \u65b0\u589e<code>isNetworkingRetry</code>\u6765\u7981\u6b62\u65e0\u7f51\u7edc\u663e\u793a\u52a0\u8f7d\u7f3a\u7701</li> <li>pref: DataBinding\u7ed1\u5b9a\u6570\u636e\u5931\u8d25\u65e5\u5fd7\u8f93\u51fa</li> <li>refactor: page\u51fd\u6570\u5e9f\u5f03, \u65b0\u589e<code>pageCreate</code></li> </ul>"},{"location":"updates/#1378","title":"1.3.78","text":"<ul> <li>feat: PageRefreshLayout\u65b0\u589epage_rv\u5c5e\u6027\u6765\u6307\u5b9a\u5217\u8868</li> <li>feat: PageRefreshLayout\u65b0\u589epage_state\u5e03\u5c40\u5c5e\u6027\u6307\u5b9a\u7f3a\u7701\u9875</li> </ul>"},{"location":"updates/#1377","title":"1.3.77","text":"<ul> <li>feat: StateLayout 1.3.6</li> <li>feat: <code>ACCESS_NETWORK_STATE</code>(\u907f\u514d\u65e0\u7f51\u7edc\u663e\u793a\u52a0\u8f7d\u4e2d\u7f3a\u7701\u9875)\u6743\u9650\u53ef\u4ee5\u88ab\u5b89\u5168\u5220\u9664, \u53ef\u4ee5\u96f6\u6743\u9650\u8fd0\u884c\u672c\u5e93</li> </ul>"},{"location":"updates/#1376","title":"1.3.76","text":"<ul> <li>fix: \u7f51\u683c\u548c\u95f4\u8ddd\u65b9\u5411\u4e00\u81f4\u60c5\u51b5\u4e0b\u5bfc\u81f4item(\u94fa\u6ee1)\u5927\u5c0f\u4e0d\u4e00\u81f4</li> </ul>"},{"location":"updates/#1375","title":"1.3.75","text":"<ul> <li>fix: showEmpty\u6539\u4e3a\u6ca1\u6709\u66f4\u591a\u52a0\u8f7d</li> <li>fix: PageRefreshLayout\u4f7f\u7528addData\u65b0\u589e\u7d22\u5f15\u5224\u65ad, \u907f\u514d\u72b6\u6001\u5224\u65ad\u65e0\u6548</li> </ul>"},{"location":"updates/#1374","title":"1.3.74","text":"<ul> <li>fix: \u4fee\u590d\u5206\u7ec4\u6df1\u5ea6\u8ba1\u7b97\u9519\u8bef</li> </ul>"},{"location":"updates/#1373","title":"1.3.73","text":"<ul> <li>fix: StateLayout 1.3.5</li> </ul>"},{"location":"updates/#1372","title":"1.3.72","text":"<ul> <li>refactor: StateLayout 1.3.4</li> <li>feat: refreshing\u65b0\u589erequireNetworking\u53c2\u6570</li> </ul>"},{"location":"updates/#1371","title":"1.3.71","text":"<p>\u4fee\u590daddModels\u4f7f\u7528index\u5c40\u90e8\u66f4\u65b0\u9519\u8bef</p>"},{"location":"updates/#1370","title":"1.3.70","text":"<ul> <li>\u65b0\u589e<code>ItemStableId</code>\u6765\u56fa\u5b9a\u5217\u8868ID</li> <li>feature #186 addModels\u7d22\u5f15\u63d2\u5165</li> <li>\u4fee\u6539ItemDepth\u4f4d\u7f6e</li> </ul>"},{"location":"updates/#1369","title":"1.3.69","text":"<p>Fixed #184 \u4fee\u590dsetCheckableType</p>"},{"location":"updates/#1368","title":"1.3.68","text":"<ul> <li>Fixed #182</li> <li>\u65b0\u589e\u5355\u4f8bBindingAdapter.modelId</li> <li>\u63d0\u5347Api\u5e9f\u5f03\u7b49\u7ea7</li> </ul>"},{"location":"updates/#1367","title":"1.3.67","text":"<p>\u65b0\u589eItemAttached</p>"},{"location":"updates/#1366","title":"1.3.66","text":"<ul> <li>\u66f4\u65b0StateLayout\u81f31.3.3</li> <li>\u6709\u7f51\u7edc\u60c5\u51b5\u4e0b<code>showLoading</code>\u624d\u663e\u793aLOADING, \u4e0d\u5f71\u54cd<code>onRefresh</code></li> </ul>"},{"location":"updates/#1364","title":"1.3.64","text":"<ul> <li>\u66f4\u65b0StateLayout\u81f31.3.1</li> <li>\u65b0\u589e<code>StateChangedHandler</code>\u81ea\u5b9a\u4e49\u7f3a\u7701\u9875\u5207\u6362\u5904\u7406</li> <li>\u65b0\u589e<code>FadeStateChangedHandler</code>\u6e10\u53d8\u900f\u660e\u5207\u6362\u7f3a\u7701\u9875</li> <li>\u65b0\u589e<code>getBindingOrNull</code>\u65b9\u6cd5</li> </ul>"},{"location":"updates/#1363","title":"1.3.63","text":"<p>Fixed #164</p>"},{"location":"updates/#1361","title":"1.3.61","text":"<p>Fixed #157</p>"},{"location":"updates/#1360","title":"1.3.60","text":"<p>\u73b0\u5728\u53ef\u9009\u4f9d\u8d56DataBinding</p>"},{"location":"updates/#1358","title":"1.3.58","text":"<p>fixed #141</p>"},{"location":"updates/#1357","title":"1.3.57","text":"<p><code>PageRefreshLayout.showContent</code>\u53c2\u6570<code>hasMore</code>\u9ed8\u8ba4\u503c\u6539\u4e3atrue, \u907f\u514d\u8d85\u51fa\u5f00\u53d1\u8005\u9884\u671f\u5173\u95ed\u52a0\u8f7d\u66f4\u591a\u884c\u4e3a</p>"},{"location":"updates/#1356","title":"1.3.56","text":"<p>\u4fee\u590d\u5237\u65b0\u5d29\u6e83</p>"},{"location":"updates/#1355","title":"1.3.55","text":"<p>\u89e3\u51b3\u4e0d\u8c03\u7528<code>PageRefreshLayout.finish</code>\u65b9\u6cd5\u800c\u662f\u53bb\u8c03\u7528<code>SmartRefreshLayout.finishRefresh</code>\u5bfc\u81f4\u7684\u4e0a\u62c9\u52a0\u8f7d\u5931\u6548\u95ee\u9898</p>"},{"location":"updates/#1354","title":"1.3.54","text":"<ul> <li>Fixed #119</li> <li>\u5206\u7ec4\u907f\u514d\u91cd\u590d\u5c55\u5f00/\u6298\u53e0</li> <li>\u4fee\u590d\u5355\u4e00\u5c55\u5f00\u6a21\u5f0f</li> </ul>"},{"location":"updates/#1353","title":"1.3.53","text":"<ul> <li>Fixed #107</li> <li>Fixed #108</li> </ul>"},{"location":"updates/#1352","title":"1.3.52","text":"<p>\u907f\u514d\u591a\u6b21\u663e\u793a\u52a0\u8f7d\u9875\u9762\u5bfc\u81f4\u7f3a\u7701\u9875showError\u65e0\u6548</p>"},{"location":"updates/#1351","title":"1.3.51","text":"<p>fix: \u4fee\u590d\u62d6\u62fd\u529f\u80fd\u5bfc\u81f4\u5217\u8868\u663e\u793a\u4e0e\u6570\u636e\u6e90\u4e0d\u5bf9\u5e94\u7684\u95ee\u9898</p>"},{"location":"updates/#1350","title":"1.3.50","text":"<p>\u5347\u7ea7\u5185\u7f6e\u4f9d\u8d56SmartRefreshLayout\u81f3\u6700\u65b0\u7248\u672c<code>2.0.5</code> <pre><code>api 'io.github.scwang90:refresh-layout-kernel:2.0.5'\napi 'io.github.scwang90:refresh-header-material:2.0.5'\napi 'io.github.scwang90:refresh-footer-classics:2.0.5'\n</code></pre> \u6ce8\u610f\u5982\u679c\u4f60\u6709\u6dfb\u52a0\u9644\u5c5e\u7684SmartRefreshLayout\u5237\u65b0\u5934, \u9700\u8981\u4e00\u5e76\u66f4\u65b0\u81f3\u6700\u65b0\u7684<code>mavenCentral()</code>\u7248\u672c</p> <p>\u8be6\u60c5\u67e5\u770b #85</p>"},{"location":"updates/#1340","title":"1.3.40","text":"<ul> <li>\u4fee\u590d\u4e0b\u62c9\u5237\u65b0\u5931\u6548</li> <li>\u6dfb\u52a0\u7f51\u683c\u5206\u7ec4/\u62d6\u62fd\u5206\u7ec4\u793a\u4f8b</li> <li>\u4f18\u5316\u5217\u8868\u8d1f\u8f7d\u66f4\u65b0</li> <li>\u4fee\u6539addModels\u4e0eaddData\u7684\u6dfb\u52a0\u6570\u636e\u903b\u8f91\uff0c\u4f7f\u5f97models\u7ef4\u6301\u540c\u4e00\u4e2a\u5bf9\u8c61</li> <li>\u66f4\u65b0\u793a\u4f8b\u4ee3\u7801</li> </ul>"},{"location":"updates/#1339","title":"1.3.39","text":"<p>\u66b4\u9732\u5bf9\u6bd4\u6570\u636e\u53d8\u5316\u7684\u56de\u8c03\u63a5\u53e3</p>"},{"location":"updates/#1338","title":"1.3.38","text":"<ul> <li>\u65b0\u589e\u5bf9\u6bd4\u6570\u636e\u5237\u65b0\u51fd\u6570<code>setDifferModels</code>, \u672c\u8eabBRV\u5c31\u652f\u6301\u5b98\u65b9\u5bf9\u6bd4\u5237\u65b0\u65b9\u6848, \u8fd9\u6b21\u53ea\u662f\u4f18\u5316\u65b9\u6848</li> <li>\u65b0\u589e<code>PageRefreshLayout.refreshing</code>\u4ec5\u5728\u7b2c\u4e00\u6b21\u52a0\u8f7d\u6570\u636e\u65f6\u65f6\u5019\u52a0\u8f7d\u7f3a\u7701\u9875\u540e\u7eed\u4f7f\u7528\u9759\u9ed8\u52a0\u8f7d</li> </ul>"},{"location":"updates/#1337","title":"1.3.37","text":"<ul> <li>\u4fee\u590dUpFetch\u6a21\u5f0f\u4e0b\u7f3a\u7701\u9875\u98a0\u5012\u95ee\u9898</li> <li>\u4fee\u590dreverseLayout\u4e0b\u5206\u5272\u7ebf\u95ee\u9898</li> <li>\u65b0\u589eItemDepthUtils\u6765\u7b80\u5316\u83b7\u53d6\u5206\u7ec4\u5c42\u7ea7\u6df1\u5ea6</li> </ul>"},{"location":"updates/#1336","title":"1.3.36","text":"<ul> <li>\u4fee\u590dUpFetch\u6a21\u5f0f\u4e0b\u5206\u5272\u7ebf\u663e\u793a\u9519\u8bef\u95ee\u9898</li> </ul>"},{"location":"updates/#1335","title":"1.3.35","text":"<ul> <li>\u6dfb\u52a0\u591a\u7c7b\u578b\u5217\u8868\u51fd\u6570<code>addType</code>\u652f\u6301\u63a5\u53e3\u591a\u6001</li> <li>\u4fee\u590dUpFetch\u62c9\u53d6\u52a0\u8f7d\u66f4\u591a\u5728Activity\u4e0a\u5185\u5bb9\u98a0\u5012\u95ee\u9898</li> </ul>"},{"location":"updates/#1334","title":"1.3.34","text":"<p>\u4fee\u590d\u5206\u7ec4\u5d4c\u5957\u5c55\u5f00\u65f6\u4ea7\u751f\u91cd\u590d\u6570\u636e\u95ee\u9898(\u5b50\u5217\u8868\u4e3a\u53ef\u53d8\u96c6\u5408\u65f6\u5f15\u53d1\u6b64\u95ee\u9898)</p>"},{"location":"updates/#1333","title":"1.3.33","text":"<ul> <li>\u4fee\u590d\u65e0\u6cd5\u4ec5\u542f\u7528\u4e0a\u62c9\u52a0\u8f7d\u95ee\u9898</li> </ul>"},{"location":"updates/#1332","title":"1.3.32","text":"<ul> <li>\u5141\u8bb8BindingAdapter\u88ab\u91cd\u5199</li> <li>\u4fee\u590d\u52a0\u8f7d\u66f4\u591a\u65f6\u53d1\u751f\u9519\u8bef\u5224\u65ad\u4e3a\u6ca1\u6709\u66f4\u591a\u9875\u95ee\u9898</li> </ul>"},{"location":"updates/#1331","title":"1.3.31","text":"<p>\u4fee\u590dPageRefreshLayout\u7f3a\u7701\u9875\u5d29\u6e83\u95ee\u9898</p>"},{"location":"updates/#1330","title":"1.3.30","text":"<ol> <li>\u66f4\u65b0\u4f9d\u8d56SmartRefreshLayout\u81f32.0.3</li> <li>\u66f4\u65b0\u4f9d\u8d56StateLayout\u81f31.2.0</li> <li>\u6dfb\u52a0\u7f3a\u7701\u9875onContent\u76d1\u542c</li> </ol>"},{"location":"updates/#1329","title":"1.3.29","text":"<p>\u9690\u85cf\u5185\u90e8\u51fd\u6570 throttleClick</p>"},{"location":"updates/#1328","title":"1.3.28","text":"<p>\u4fee\u590donClick\u70b9\u51fb\u9632\u6296\u52a8\u5931\u6548\u95ee\u9898</p>"},{"location":"updates/#1327","title":"1.3.27","text":"<p>\u5168\u5c40\u914d\u7f6e\u70b9\u51fb\u9632\u6296\u52a8\u95f4\u9694\u65f6\u95f4</p>"},{"location":"updates/#1326","title":"1.3.26","text":"<p>fixed #20 \u4fee\u590dshoLoading\u7f3a\u7701\u9875\u53c2\u6570\u9519\u8bef</p>"},{"location":"updates/#1325","title":"1.3.25","text":"<ol> <li>\u65b0\u589e\u51fd\u6570isSampleGroup\u6765\u5224\u65ad\u4e24\u4e2a\u4f4d\u7f6e\u7684item\u662f\u5426\u5904\u4e8e\u540c\u4e00\u5206\u7ec4\u4e0b</li> <li>\u7ec4\u67e5\u8be2\u7236\u9879findParentPosition\u7684\u6027\u80fd</li> </ol>"},{"location":"updates/#1324","title":"1.3.24","text":"<p>\u4fee\u590d\u5c40\u90e8\u5237\u65b0\u6dfb\u52a0\u6570\u636e\u65f6\u52a8\u6001\u5206\u5272\u7ebf\u53ef\u80fd\u53d1\u751f\u9519\u8bef</p>"},{"location":"updates/#1322","title":"1.3.22","text":"<p>\u4e3a\u51cf\u5c11\u6dfb\u52a0\u70b9\u51fb\u4e8b\u4ef6Id\u540e\u8fd8\u5f97\u5224\u65adId. \u70b9\u51fb\u4e8b\u4ef6\u73b0\u5728\u548cId\u5bf9\u5e94\u914d\u7f6e, \u4e0d\u505a\u7edf\u4e00\u5904\u7406. \u5e9f\u5f03\u90e8\u5206\u51fd\u6570</p> \u5e9f\u5f03\u51fd\u6570 \u66ff\u6362 addFastClickable \u66ff\u6362\u4e3aonFastClick addClickable \u66ff\u6362\u4e3aonClick addLongClickable \u66ff\u6362\u4e3aonLongClick"},{"location":"updates/#1321","title":"1.3.21","text":"<p>\u65b0\u589e\u53ef\u4ee5\u4f7f\u7528Id\u76f4\u63a5\u8c03\u7528onClick/onFastClick/onLongClick <pre><code>rv.linear().setup {\naddType&lt;SimpleModel&gt;(R.layout.item_simple)\nR.id.tv_simple.onClick {\ntoast(\"\u70b9\u51fbText\")\n}\n}.models = getData()\n</code></pre></p>"},{"location":"updates/#1320","title":"1.3.20","text":"<p>\u4fee\u590d\u5355\u4f8b\u7f3a\u7701\u9875\u65e0\u6cd5\u8986\u76d6\u5168\u5c40\u7f3a\u7701\u9875\u95ee\u9898</p>"},{"location":"upfetch/","title":"Upfetch","text":"<p>\u672c\u7ae0\u8282\u8bf4\u7684\u62c9\u53d6\u66f4\u591a\u4e0d\u662f\u4e0a\u62c9\u52a0\u8f7d\u66f4\u591a, \u800c\u662f\u4e0b\u62c9\u52a0\u8f7d\u66f4\u591a. \u5e38\u89c1\u7684\u5e94\u7528\u573a\u666f\u5c31\u662f\u804a\u5929\u754c\u9762\u4e0b\u62c9\u53d6\u52a0\u8f7d\u5386\u53f2\u8bb0\u5f55</p> <p> \u4f8b\u5982\u804a\u5929\u8bb0\u5f55\u754c\u9762, \u6700\u65b0\u7684\u6d88\u606f\u5728\u5e95\u90e8, \u4e0b\u62c9\u5217\u8868\u4f1a\u89e6\u53d1\u52a0\u8f7d\u4e0b\u4e00\u9875. \u8fd9\u79cd\u9700\u6c42\u5728BRV\u4e2d\u53ea\u9700\u8981\u4e00\u884c\u4ee3\u7801(\u6269\u5c55\u81eaSmartRefreshLayout)</p> <p></p> <p></p> <p>\u5411\u4e0b\u62c9\u53d6\u52a0\u8f7d\u66f4\u591a\u5176\u5b9e\u672c\u8d28\u4e0a\u662f\u5c06rv\u53cd\u8f6c, \u518d\u5c06\u5185\u5bb9\u5e03\u5c40\u53cd\u8f6c(\u6b64\u65f6\u5185\u5bb9\u5e03\u5c40\u5c31\u662f\u6b63\u5e38\u663e\u793a\u7684).</p> <p><pre><code>override fun onActivityCreated(savedInstanceState: Bundle?) {\nsuper.onActivityCreated(savedInstanceState)\n\nrv.setup {\naddType&lt;Model&gt;(R.layout.item_simple)\n}\n\npage.upFetchEnabled = true\npage.onRefresh {\n// \u6a21\u62df\u7f51\u7edc\u8bf7\u6c422\u79d2\u540e\u6210\u529f\npostDelayed({\nval data = getData()\naddData(data) { index &lt;= 2 }\n}, 1000)\n}.showLoading() //  \u52a0\u8f7d\u4e2d(\u7f3a\u7701\u9875)\n}\n</code></pre> \u9664\u4e86\u9ad8\u4eae\u7684\u4e00\u4e2a\u5c5e\u6027\u8bbe\u7f6e, \u5176\u4ed6\u4ee3\u7801\u548c\u6b63\u5e38\u4e00\u6837</p> <p>\u5e03\u5c40\u4ee3\u7801</p> <pre><code>&lt;com.drake.brv.PageRefreshLayout\nandroid:id=\"@+id/page\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"&gt;\n\n&lt;androidx.recyclerview.widget.RecyclerView\nandroid:id=\"@+id/rv\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\napp:layoutManager=\"androidx.recyclerview.widget.LinearLayoutManager\"\napp:reverseLayout=\"true\"\napp:stackFromEnd=\"true\" /&gt;\n\n&lt;!--stackFromEnd=true \u9632\u6b62UpFetch\u65f6\u6570\u636e\u4e0d\u6ee1\u4e00\u5c4f\u5e55\u7684\u65f6\u5019, \u5bf9\u9f50\u5e95\u90e8\u800c\u4e0d\u662f\u9876\u90e8--&gt;\n&lt;!--reverseLayout=true rv\u6570\u636e\u6392\u5217\u987a\u5e8f\u53cd\u8f6c--&gt;\n\n&lt;/com.drake.brv.PageRefreshLayout&gt;\n</code></pre> <p>\u4f7f\u7528<code>app:page_upFetchEnabled</code>\u5c5e\u6027\u4e5f\u53ef\u4ee5\u914d\u7f6e</p>"},{"location":"view-binding/","title":"ViewBinding","text":"<p>\u5047\u8bbe\u4e0d\u60f3\u4f7f\u7528DataBinding\u53ea\u60f3\u7528ViewBinding\u53ef\u4ee5\u9605\u8bfb\u4ee5\u4e0b\u5185\u5bb9</p> <p>\u5176\u5b9e\u4f7f\u7528ViewBinding\u548cDataBinding\u7684\u67e5\u627e\u89c6\u56fe\u5bf9\u8c61\u7528\u6cd5\u4e00\u81f4, \u90fd\u662f\u8c03\u7528<code>getBinding()</code></p>"},{"location":"view-binding/#_1","title":"\u524d\u8a00","text":"<p>\u66f4\u63a8\u8350\u4f7f\u7528DataBinding\u800c\u975eViewBinding, \u7406\u7531\u5982\u4e0b</p> <ol> <li>\u9996\u5148MVVM\u53cc\u5411\u6570\u636e\u7ed1\u5b9a\u662f\u76ee\u524d\u6700\u4f18\u79c0\u7684\u67b6\u6784\u8bbe\u8ba1, \u800cDataBinding\u662f\u5b9e\u73b0MVVM\u7684\u6700\u4f18\u89e3</li> <li>ViewBinding\u53ea\u662fDataBinding\u4e2d\u7684\u4e00\u4e2a\u5c0f\u529f\u80fd, \u4e14DataBinding\u4e0d\u4f1a\u9ed8\u8ba4\u4e3a\u6240\u6709\u5e03\u5c40\u81ea\u52a8\u751f\u6210\u7c7b\u6545\u4ee3\u7801\u91cf\u66f4\u5c11</li> </ol>"},{"location":"view-binding/#_2","title":"\u4f7f\u7528","text":"<p>\u5982\u679c\u4f60\u4f9d\u7136\u60f3\u7528ViewBinding\u53ef\u4ee5\u53c2\u8003\u4ee5\u4e0b\u4ee3\u7801</p>"},{"location":"view-binding/#1-onbind","title":"1) \u5728onBind\u4e2d\u4f7f\u7528","text":"<pre><code>rv.linear().setup {\naddType&lt;SimpleModel&gt;(R.layout.item_simple)\n\n// \u5728onCreateViewHolder\u751f\u547d\u5468\u671f\u4f7f\u7528\nonCreate {\ngetBinding&lt;ItemSimpleBinding&gt;().tvName.text = \"\u6587\u672c\u5185\u5bb9\"\n}\n\n// \u6216\u8005\u5728onBindViewHolder\u751f\u547d\u5468\u671f\u4e2d\u4f7f\u7528\nonBind {\nval binding = getBinding&lt;ItemSimpleBinding&gt;()\n}\n}.models = getData()\n</code></pre>"},{"location":"view-binding/#2-itembind","title":"2) \u5728ItemBind\u4e2d\u4f7f\u7528","text":"<p>\u5982\u679c\u4f7f\u7528\u5b9e\u73b0\u63a5\u53e3ItemBind\u7684\u6570\u636e\u6a21\u578b</p> <pre><code>class SimpleModel(var name: String = \"BRV\") : ItemBind {\n\noverride fun onBind(holder: BindingAdapter.BindingViewHolder) {\nval binding = getBinding&lt;ItemSimpleBinding&gt;()\nbinding.tvName.text = \"\u6587\u672c\u5185\u5bb9\"\n}\n}\n</code></pre> <p>\u90fd\u662f\u8c03\u7528\u65b9\u6cd5<code>getBinding()</code></p>"},{"location":"view-binding/#_3","title":"\u591a\u7c7b\u578b","text":"<p>\u5982\u679c\u662f\u591a\u7c7b\u578b\u6ce8\u610f\u5148\u5224\u65ad\u7c7b\u578b, \u907f\u514d\u4e3a\u7ed1\u5b9a\u9519\u8bef\u7684ViewBinding</p> <pre><code>class SimpleModel(var name: String = \"BRV\") : ItemBind {\n\noverride fun onBind(holder: BindingAdapter.BindingViewHolder) {\n\n// \u65b9\u5f0f1 \u5224\u65aditemViewType\nwhen(holder.itemViewType) {\nR.layout.item_simple -&gt; {\ngetBinding&lt;ItemSimpleBinding&gt;().tvName.text = \"\u6587\u672c\u5185\u5bb9\"\n}\nR.layout.item_simple_2 -&gt; {\ngetBinding&lt;ItemSimpleBinding2&gt;().tvName.text = \"\u7c7b\u578b2-\u6587\u672c\u5185\u5bb9\"\n}\n}\n\n\n// \u65b9\u5f0f2 \u5224\u65adViewBinding\nwhen (val viewBinding = getBinding&lt;ViewBinding&gt;()) {\nis ItemSimpleBinding -&gt; {\nviewBinding.tvName.text = \"\u6587\u672c\u5185\u5bb9\"\n}\nis ItemComplexBinding -&gt; {\nviewBinding.tvName.text = \"\u7c7b\u578b2-\u6587\u672c\u5185\u5bb9\"\n}\n}\n}\n}\n</code></pre>"}]}